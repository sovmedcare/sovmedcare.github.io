<!DOCTYPE html>




<html class="theme-next gemini" lang="zh-tw">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Full Stack JS #FRP #RxJS #Redux #React">
<meta property="og:type" content="website">
<meta property="og:title" content="SOVMedCare Tech">
<meta property="og:url" content="http://sovmedcare.github.io/index.html">
<meta property="og:site_name" content="SOVMedCare Tech">
<meta property="og:description" content="Full Stack JS #FRP #RxJS #Redux #React">
<meta property="og:locale" content="zh-tw">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SOVMedCare Tech">
<meta name="twitter:description" content="Full Stack JS #FRP #RxJS #Redux #React">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://sovmedcare.github.io/"/>





  <title>SOVMedCare Tech</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SOVMedCare Tech</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">@sovmedcare</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é 
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            é—œæ–¼
          </a>
        </li>
      
        
        <li class="menu-item menu-item-authors">
          <a href="/authors/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            ä½œè€…ç¾¤
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ¨™ç±¤
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†é¡
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            æ­¸æª”
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2020/08/25/basic-website-layout/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/25/basic-website-layout/" itemprop="url">ç”¨ CSS å®Œæˆå¸¸è¦‹ç¶²é ç‰ˆå‹</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/dannnyliang/" itemprop="url" rel="index">
              <span itemprop="name">dannnyliang</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2020-08-25T12:45:22+08:00">
                2020-08-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æƒ³è¦åœ¨ç¶²é ä¸Šé”æˆç‰¹å®šçš„è¦–è¦ºæ•ˆæœï¼Œåšæ³•å¾ˆå¤š<br>è€Œä¸”å»ºè­°åŒæ¨£çš„çµæœï¼Œå¯ä»¥å¤šå­¸å¹¾ç¨®åšæ³•ï¼Œç•¶æƒ…å¢ƒé™ç¸®é¸æ“‡æ™‚ï¼Œè‡³å°‘é‚„æœ‰å…¶ä»–è·¯å¯ä»¥é¸æ“‡<br>ä½†ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰åšæ³•éƒ½å€¼å¾—å­¸ç¿’</p>
<blockquote>
<p>åšæ³•ä»æœ‰å¥½æœ‰å£</p>
</blockquote>
<p><br></p>
<h1 id="ä»€éº¼æ˜¯è¼ƒå¥½çš„åšæ³•ï¼Ÿ"><a href="#ä»€éº¼æ˜¯è¼ƒå¥½çš„åšæ³•ï¼Ÿ" class="headerlink" title="ä»€éº¼æ˜¯è¼ƒå¥½çš„åšæ³•ï¼Ÿ"></a>ä»€éº¼æ˜¯è¼ƒå¥½çš„åšæ³•ï¼Ÿ</h1><ul>
<li><strong>ä¸ç”¨å¯«å¤ªå¤š</strong><br>å±¬æ€§ç²¾ç°¡ï¼š<code>margin-top</code>, <code>margin-right</code>, <code>margin-bottom</code>, <code>margin-left</code> å¯è¢«ç²¾ç°¡æˆ <code>margin</code></li>
<li><strong>æ˜“è®€</strong><br>ç›¸é—œçš„æ¨£å¼é›†ä¸­ã€ä¸åˆ†æ•£åœ¨å…¶ä»–å…ƒç´ </li>
<li><strong>å…· RWD æ€§è³ª</strong><br>åœ¨è£ç½®å¯¬åº¦æ”¹è®Šæ™‚ï¼Œä»ä¿æŒåŸæ¯”ä¾‹</li>
<li><strong>å…·æ“´å±•æ€§</strong><br>å…ƒç´ è¢«é‡è¤‡ä½¿ç”¨ï¼Œæˆ–æ˜¯æœ‰å…¶ä»–å…ƒç´ åŠ å…¥æ™‚ï¼ŒåŸæœ¬çš„æ¨£å¼ä¸éœ€è¦æ”¹å‹•</li>
<li><strong>æ¨£å¼ä¸ç›¸ä¾</strong><br>å…ƒç´ æœ¬èº«è¦é”æˆçš„æ•ˆæœï¼Œä¸éœ€è¦å…¶ä»–å…ƒç´ é…åˆï¼Œä¹Ÿä¸å½±éŸ¿å…¶ä»–å…ƒç´   </li>
</ul>
<p>æœ¬ç¯‡ä¸»è¦æœƒé‡å°æ¨£å¼çš„ã€Œæ“´å±•æ€§ã€ã€ã€Œç›¸ä¾æ€§ã€é€²è¡Œè¨è«–ï¼Œæ‰¾å‡ºå³ä½¿ä»‹é¢è¨­è¨ˆä¿®æ”¹ï¼Œä»èƒ½ç©©å®šçš„æ¨£å¼å¯«æ³•</p>
<p><br></p>
<h1 id="é‡åˆ°çš„å•é¡Œ"><a href="#é‡åˆ°çš„å•é¡Œ" class="headerlink" title="é‡åˆ°çš„å•é¡Œ"></a>é‡åˆ°çš„å•é¡Œ</h1><img src="/2020/08/25/basic-website-layout/layout-wireframe.png" alt="layout-wireframe" title="layout-wireframe">  
<p><strong>éœ€æ±‚ï¼š</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- Header1, Header2 å›ºå®šå‡ºç¾åœ¨ä¸Šæ–¹</div><div class="line">- Header1 å‘ä¸‹æ²å‹•æ™‚æ”¶åˆï¼Œå‘ä¸Šæ²å‹•æ™‚å±•é–‹</div></pre></td></tr></table></figure></p>
<p><strong>å¯¦ä½œï¼š</strong>  </p>
<ol>
<li>å»ºç«‹ä¸€å€‹ state ç´€éŒ„ <code>Header</code> é«˜åº¦</li>
<li>é é¢æ¸²æŸ“ã€æ»¾å‹•äº‹ä»¶è§¸ç™¼æ™‚ï¼Œæ›´æ–°æ­¤ state</li>
<li>å°‡ state å‚³åˆ° <code>Header</code> å…ƒä»¶ã€<code>Content</code> å…ƒä»¶</li>
</ol>
<p>é€™æ¨£çš„å¯¦ä½œæœƒå‡ºç¾äº›å•é¡Œï¼š</p>
<ul>
<li>éœ€ state, propsï¼Œä¸”è‹¥ç„¡ styled-component é…åˆæœƒæ›´é›£é”æˆ</li>
<li>éœ€å¤šå€‹å…ƒä»¶é…åˆæ‰èƒ½é”åˆ°æ•ˆæœ</li>
<li>æ›´æ–°é‚è¼¯è¤‡é›œï¼Œå®¹æ˜“æœ‰ bug</li>
</ul>
<h1 id="ç·´ç¿’-I-Fixed-Header"><a href="#ç·´ç¿’-I-Fixed-Header" class="headerlink" title="ç·´ç¿’ I - Fixed Header"></a>ç·´ç¿’ I - Fixed Header</h1><p>å…ˆä¸ç”¨æƒ³å¾—é‚£éº¼è¤‡é›œï¼Œå¾ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹é–‹å§‹ (<a href="https://codesandbox.io/s/before-fixed-header-s8nlj" target="_blank" rel="external">CodeSandbox</a>)</p>
<p><strong>éœ€æ±‚ï¼š</strong></p>
<ul>
<li>(Required) <code>Header</code> å›ºå®šåœ¨ç•«é¢ä¸Šæ–¹ä¸å‹•</li>
<li>(Required) å…¶ä»–çš„å…§å®¹å¯ä¸Šä¸‹æ²å‹•</li>
<li>(Optional) æ“´å±•æ€§ï¼šå¤šè¤‡è£½ä¸€å€‹ <code>&lt;Header /&gt;</code> æ™‚ï¼Œä»ç¬¦åˆéœ€æ±‚</li>
<li>(Optional) ä½ç›¸ä¾ï¼š<code>Content</code> å…ƒä»¶çš„æ¨£å¼ï¼Œä¸éœ€è¦ä½¿ç”¨ <code>menuHeight</code></li>
</ul>
<p><br></p>
<h2 id="åšæ³•1-Pass-Height"><a href="#åšæ³•1-Pass-Height" class="headerlink" title="åšæ³•1 - Pass Height"></a>åšæ³•1 - Pass Height</h2><p>(<a href="https://codesandbox.io/s/after-fixed-header-pass-height-szpqp" target="_blank" rel="external">CodeSandbox</a>)  </p>
<ul>
<li>è¤‡è£½ <code>&lt;Header /&gt;</code> æ™‚ï¼Œæœƒè·ŸåŸæœ¬çš„ <code>Header</code> é‡ç–Šï¼Œæ²’æœ‰æ“´å±•æ€§</li>
<li><code>Content</code> çš„æ¨£å¼éœ€è¦çŸ¥é“ <code>Header</code> çš„é«˜åº¦ï¼Œç›¸ä¾åº¦é«˜</li>
<li><code>Header</code> çš„èƒŒæ™¯æœ‰é€æ˜åº¦çš„è©±æœƒç™¼ç¾ï¼Œ<code>Content</code> æ²å‹•æ™‚æœƒè·‘åˆ° <code>Header</code> çš„ä¸‹é¢<br>å¦‚æœé€™æ˜¯å…¶ä¸­ä¸€é …è¦–è¦ºéœ€æ±‚ï¼Œé›–ç„¶æ²’é”æˆ Optional é …ç›®ï¼Œä½†ä»å¯è€ƒæ…®æ¡ç”¨æ­¤ä½œæ³•</li>
</ul>
<p><br></p>
<h2 id="åšæ³•2-Seperate-Area"><a href="#åšæ³•2-Seperate-Area" class="headerlink" title="åšæ³•2 - Seperate Area"></a>åšæ³•2 - Seperate Area</h2><p>(<a href="https://codesandbox.io/s/after-fixed-header-separate-area-b6eb3" target="_blank" rel="external">CodeSandbox</a>)  </p>
<ul>
<li>åœ¨ <code>Content</code> å¤–å¤šåŒ…ä¸€å±¤ <code>Wrapper</code>ï¼Œç”¨ä¾†å®šç¾© <code>Content</code> å­˜åœ¨çš„ç©ºé–“ï¼Œå¦‚æ­¤ä¸€ä¾† <code>Content</code> å°±ä¸éœ€è¦çŸ¥é“ <code>Header</code> çš„é«˜åº¦ï¼Œå¯ä»¥é”åˆ°ä½ç›¸ä¾  </li>
<li>ä½†è¤‡è£½ <code>&lt;Header /&gt;</code> æ™‚ï¼Œä»éœ€èª¿æ•´ <code>Wrapper</code> çš„å¯¦ä½œï¼Œæ“´å±•æ€§ä»ä¸ä½³</li>
</ul>
<p><br></p>
<h2 id="åšæ³•3-Grid"><a href="#åšæ³•3-Grid" class="headerlink" title="åšæ³•3 - Grid"></a>åšæ³•3 - Grid</h2><ul>
<li>grid çš„å¼·é …é™¤äº†äºŒç¶­æ’åˆ—ä»¥å¤–ï¼Œä¹Ÿèƒ½è¼•é¬†è¦åŠƒç‰ˆå‹  </li>
<li>ä½œæ³•2 å¯¦éš›ä¸Šå°±æ˜¯å…ˆè¦åŠƒå€å¡Šï¼Œå†å°‡å…ƒç´ æ”¾å…¥å€‹å€å¡Šä¸­ï¼Œå› æ­¤ç”¨ grid å¯ä»¥è¼•é¬†é‡ç¾</li>
<li>ä½†æ˜¯ç¼ºé»å’Œä½œæ³•2 ç›¸åŒ</li>
</ul>
<p><br></p>
<h2 id="åšæ³•4-Flex"><a href="#åšæ³•4-Flex" class="headerlink" title="åšæ³•4 - Flex"></a>åšæ³•4 - Flex</h2><p>(<a href="https://codesandbox.io/s/after-fixed-header-flex-fwge4" target="_blank" rel="external">CodeSandbox</a>)  </p>
<ul>
<li>ä¸€æ¨£æ˜¯å¾ã€Œå…ˆè¦åŠƒå€å¡Šã€çš„æƒ³æ³•å‡ºç™¼ï¼Œflex æœ¬èº«çš„ç‰¹æ€§æœƒç”¨å­å…ƒç´ å¡«æ»¿çˆ¶å…ƒç´ ï¼Œå› æ­¤åªéœ€è¦å®šç¾© <code>Header</code> é«˜åº¦å¾Œï¼Œ<code>Content</code> å°±æœƒè‡ªå‹•æ’æ»¿ç©ºé–“</li>
<li>è¤‡è£½ <code>&lt;Header /&gt;</code> æ™‚ï¼Œ<code>Content</code> ä»æœƒè‡ªå‹•æ’æ»¿ç©ºé–“ï¼Œæ»¿è¶³æ“´å……æ€§</li>
<li>ä¸åªæ˜¯ <code>Content</code>ï¼Œé€£çˆ¶å…ƒç´ éƒ½ä¸éœ€è¦çŸ¥é“ <code>Header</code> çš„é«˜åº¦ï¼Œæ»¿è¶³ä½ç›¸ä¾æ€§</li>
<li>å››ç¨®åšæ³•ä¸­æœ€å¥½çš„ä¸€å€‹ï¼ˆ flex æœƒæˆç‚ºä¸»æµä¸æ˜¯æ²’æœ‰é“ç†çš„ğŸ‘</li>
</ul>
<p><br></p>
<h1 id="ç‹€æ³-2-å¤šå€å¡Šæ»¾å‹•"><a href="#ç‹€æ³-2-å¤šå€å¡Šæ»¾å‹•" class="headerlink" title="ç‹€æ³ 2 - å¤šå€å¡Šæ»¾å‹•"></a>ç‹€æ³ 2 - å¤šå€å¡Šæ»¾å‹•</h1><p>é™¤äº† Fixed Header ä»¥å¤–ï¼Œå¦ä¸€å€‹è¦æœƒçš„ç‰ˆå‹æ˜¯ã€Œå¤šå€å¡Šæ»¾å‹•ã€<br><strong>ä¸Šä¸‹:</strong> åœ¨å‰é¢çš„ç·´ç¿’çš„ <code>Header</code> ä¸­åŠ å…¥ <code>overflow: scroll</code> å°±å¯ä»¥ç›´æ¥é”æˆï¼Œä¸Šä¸‹å€å¡Šå„è‡ªæ»¾å‹•çš„æ•ˆæœ<br><strong>å·¦å³:</strong> ä¹Ÿå°±æ˜¯å¸¸è¦‹çš„ SideMenuï¼Œå¾é€™å€‹ <strong><a href="https://codesandbox.io/s/before-independent-scroll-xb6pu" target="_blank" rel="external">ç¯„ä¾‹</a></strong> é–‹å§‹è©¦è‘—å¯¦ä½œå§ï¼</p>
<p><strong>éœ€æ±‚ï¼š</strong></p>
<ul>
<li>(Required) <code>Menu</code> å’Œ <code>Content</code> å…ƒç´ å·¦å³æ’åˆ—</li>
<li>(Required) <code>Menu</code> å’Œ <code>Content</code> å…ƒç´ å¯ä»¥å„è‡ªæ»¾å‹•</li>
</ul>
<p><br></p>
<h2 id="ä½œæ³•-1-fixed-width"><a href="#ä½œæ³•-1-fixed-width" class="headerlink" title="ä½œæ³• 1 - fixed width"></a>ä½œæ³• 1 - fixed width</h2><ul>
<li>ç›´æ¥è¨‚æ­»å¯¬åº¦ <code>${MenuWidth}px</code>, <code>calc(100% - ${MenuWidth}px)</code></li>
<li>æœ€ç›´è§€çš„åšæ³•ï¼Œä½†æ“´å±•æ€§ä¸è¶³ï¼Œä¸”ç›¸ä¾åº¦é«˜</li>
</ul>
<p><br></p>
<h2 id="ä½œæ³•-2-padding-width"><a href="#ä½œæ³•-2-padding-width" class="headerlink" title="ä½œæ³• 2 - padding width"></a>ä½œæ³• 2 - padding width</h2><ul>
<li><code>Menu</code> å…ƒç´  <code>${MenuWidth}px + position: fixed</code>ã€<code>Content</code> å…ƒç´  <code>paddding-left: ${MenuWidth}px</code></li>
<li>å’Œåšæ³•1 å¤§åŒå°ç•°</li>
</ul>
<p><br></p>
<h2 id="ä½œæ³•-3-inline-block"><a href="#ä½œæ³•-3-inline-block" class="headerlink" title="ä½œæ³• 3 - inline block"></a>ä½œæ³• 3 - <del>inline block</del></h2><ul>
<li>è¦æŠŠå…ƒç´ æ’å…¥åŒä¸€åˆ—ä¸­ï¼Œä¸€å®šæœƒæƒ³åˆ° <code>inline-block</code>ï¼Œä½†ç­†è€…å˜—è©¦äº†è¨±ä¹…ï¼Œé ‚å¤šåšåˆ°ã€Œå·¦å³åŒæ­¥æ»¾å‹•ã€ï¼Œæ²’è¾¦æ³•ã€Œåˆ†å€å¡Šæ»¾å‹•ã€</li>
<li>çŒœæ¸¬ç„¡æ³•é”æˆã€Œåˆ†å€å¡Šæ»¾å‹•ã€çš„æ•ˆæœï¼Œå› ç‚º <code>inline-block</code> æ˜¯å®šç¾©åœ¨çˆ¶å…ƒç´ ï¼Œè®“å­å…ƒç´ å¯ä»¥æ’åœ¨åŒä¸€åˆ—ã€‚å¯¦éš›ä¸Šæ˜¯å°çˆ¶å…ƒç´ æ»¾å‹•ï¼Œä¸æ˜¯å°å­å…ƒç´ è§¸ç™¼æ»¾å‹•ï¼Œå› æ­¤ç„¡æ³•åˆ†å€</li>
</ul>
<p><br></p>
<h2 id="ä½œæ³•-4-grid"><a href="#ä½œæ³•-4-grid" class="headerlink" title="ä½œæ³• 4 - grid"></a>ä½œæ³• 4 - grid</h2><p>(<a href="https://codesandbox.io/s/after-independent-scroll-grid-fp9dz" target="_blank" rel="external">CodeSandbox</a>)  </p>
<ul>
<li>ä¸€æ¨£å¾è¦åŠƒç‰ˆå‹çš„è§€å¿µå‡ºç™¼ï¼Œå…ˆç•«å¥½ Menu å€åŸŸèˆ‡ Content å€åŸŸ</li>
<li>ä½ç›¸ä¾ï¼Œä½†æ“´å±•æ€§ä½</li>
</ul>
<p><br></p>
<h2 id="ä½œæ³•-5-flex"><a href="#ä½œæ³•-5-flex" class="headerlink" title="ä½œæ³• 5 - flex"></a>ä½œæ³• 5 - flex</h2><p>(<a href="https://codesandbox.io/s/after-independent-scroll-flex-p060t" target="_blank" rel="external">CodeSandbox</a>)  </p>
<ul>
<li>å…¼å…·ä½ç›¸ä¾ã€é«˜æ“´å±•</li>
</ul>
<p><br></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>ä¸Šé¢å…©å€‹ç·´ç¿’éƒ½åˆ—å‡ºäº†å¤šç¨®åšæ³•ï¼Œä¸æ˜¯èªªä¸€å®šè¦æ»¿è¶³ã€Œé«˜æ“´å±•ã€ã€ã€Œä½ç›¸ä¾ã€æ‰æ˜¯å”¯ä¸€æ­£è§£ï¼Œæ¯ç¨®åšæ³•çš„çµæœéƒ½æœ‰äº›å¾®å·®ç•°ï¼Œè¦æ‰¾å‡ºæœ€ç¬¦åˆè‡ªå·±é–‹ç™¼æƒ…å¢ƒåŠéœ€æ±‚çš„åšæ³•ã€‚flex çœ‹ä¼¼å¼·å¤§ï¼Œä½†å¦‚æœé‡åˆ°ç„¡æ³•ä½¿ç”¨ flex çš„ç‹€æ³ï¼Œé€™æ™‚å…¶ä»–åšæ³•å°±æ´¾ä¸Šç”¨å ´äº†ã€‚<br>å¦‚æœé‚„æœ‰å…¶ä»–æ›´å¥½ã€æ›´æœ‰å‰µæ„çš„ä½œæ³•ï¼Œæ­¡è¿å‘Šè¨´æˆ‘å€‘å–” ğŸ‰</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/04/02/state-monad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/02/state-monad/" itemprop="url">state_monad</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/tancc/" itemprop="url" rel="index">
              <span itemprop="name">tancc</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-04-02T15:28:10+08:00">
                2018-04-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¨±å¤šçš„ç¨‹å¼æ‡‰ç”¨æƒ…å¢ƒï¼Œæ˜¯è¦ä¾è³´éš¨è‘—æ™‚é–“æˆ–æ˜¯é‹ç®—è€Œä¸åœè®Šæ›çš„ç‹€æ…‹è€Œé€²è¡Œã€‚Haskell ä¸­æ²’æœ‰è®Šæ•¸ï¼Œæ•¸å€¼éƒ½æ˜¯ä¸å¯è®Šçš„ã€‚</p>
<p>Haskell è¦é”åˆ°é€™ç¨®éœ€æ±‚ï¼ŒåŒæ¨£ä¹Ÿæ˜¯é å‡½æ•¸ã€‚è—‰ç”±å‚³å…¥ state ä½œç‚ºè¼¸å…¥åƒæ•¸ï¼Œç¶“éé‹ç®—å¾Œå›å‚³æœ€å¾Œçš„çµæœä»¥åŠæ›´æ–°å¾Œçš„ mewStateã€‚</p>
<p>åŸæœ¬çš„ state ä¸¦æ²’æœ‰è¢«ä¿®æ”¹åˆ°ï¼Œè€Œæˆ‘å€‘ä¹ŸåŒæ¨£é”åˆ°äº†æ ¹æ“š state åšè¨ˆç®—ä¸¦ä¸”è®Šæ› state çš„ç›®çš„äº†</p>
<p>è€Œåœ¨ Haskell ä¸­ï¼Œé€™ç¨®éœ€è¦è™•ç†ç‹€æ…‹æ€§å•é¡Œæ™‚ï¼Œå¸¸ç”¨åˆ°çš„å·¥å…·å°±æ˜¯ State monadã€‚</p>
<hr>
<h1 id="ç¯„ä¾‹"><a href="#ç¯„ä¾‹" class="headerlink" title="ç¯„ä¾‹"></a>ç¯„ä¾‹</h1><p>ä¸€èˆ¬æœƒç”¨èº‘éª°å­ç•¶ç¯„ä¾‹</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> System.Random</div><div class="line"></div><div class="line"><span class="title">rollDie5Times</span> :: <span class="type">StdGen</span> -&gt; (<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>)</div><div class="line"><span class="title">rollDie5Times</span> g =</div><div class="line">  <span class="keyword">let</span></div><div class="line">    (one, g1) = randomR (<span class="number">1</span>, <span class="number">6</span>) g</div><div class="line">    (two, g2) = randomR (<span class="number">1</span>, <span class="number">6</span>) g1</div><div class="line">    (three, g3) = randomR (<span class="number">1</span>, <span class="number">6</span>) g2</div><div class="line">    (four, g4) = randomR (<span class="number">1</span>, <span class="number">6</span>) g3</div><div class="line">    (five, _) = randomR (<span class="number">1</span>, <span class="number">6</span>) g4</div><div class="line">  <span class="keyword">in</span></div><div class="line">    (one, two, three, four, five)</div></pre></td></tr></table></figure>
<p>ç›®å‰é€™ç¨®æ¨¡æ“¬èº‘äº”æ¬¡éª°å­çš„æ–¹æ³•çœ‹èµ·ä¾†å¾ˆä¸èˆ’æœï¼ŒåŸå› åœ¨æ–¼ generator ä»–å¿…é ˆæ‰‹å‹•å–å‡ºå’Œå‚³å…¥ï¼Œå¤šäº†å¾ˆå¤šé‡è¤‡çš„æ­¥é©Ÿã€‚</p>
<p>å¦‚æœä½¿ç”¨äº† State monadï¼Œæˆ‘å€‘å°±å¯ä»¥å°‡ generator ä½œç‚º state ä¾†æ”¹å–„ç›®å‰çš„ç¯„ä¾‹ã€‚</p>
<hr>
<h1 id="å®šç¾©-State-monad"><a href="#å®šç¾©-State-monad" class="headerlink" title="å®šç¾© State monad"></a>å®šç¾© State monad</h1><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">newtype</span> <span class="type">State</span> s a = <span class="type">State</span> &#123;<span class="title">runState</span> :: <span class="title">s</span> -&gt; (<span class="title">a</span>, <span class="title">s</span>)&#125;</span></div></pre></td></tr></table></figure>
<p><code>State</code> åŒ…è£¹è‘—ä¸€å€‹å‡½æ•¸å‹åˆ¥ç‚º<code>s -&gt; (a, s)</code>ã€‚å…¶æ„ç¾©å°±æ˜¯å¦‚ä¸€é–‹å§‹æ‰€èªªçš„ï¼Œå‚³å…¥ stateï¼Œç¶“éé‹ç®—å›å‚³çµæœä»¥åŠæ–°çš„ stateã€‚</p>
<p>State monad çš„<code>Functor</code> <code>Applicative</code> <code>Monad</code> instance æˆ‘å€‘å¯ä»¥å¦‚æ­¤å®šç¾©</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Functor</span> (<span class="type">State</span> <span class="title">s</span>) <span class="keyword">where</span></span></div><div class="line">  fmap f (<span class="type">State</span> g) = <span class="type">State</span> $ \s -&gt; <span class="keyword">let</span> (a, s1) = g s</div><div class="line">                                   <span class="keyword">in</span>  (f a, s1)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Applicative</span> (<span class="type">State</span> <span class="title">s</span>) <span class="keyword">where</span></span></div><div class="line">  pure a = <span class="type">State</span> $ \s -&gt; (a, s)</div><div class="line">  (<span class="type">State</span> fab) &lt;*&gt; (<span class="type">State</span> fa) = <span class="type">State</span> $ \s -&gt; <span class="keyword">let</span> (a, s1) = fa s</div><div class="line">                                                 (ab, s2) = fab s1</div><div class="line">                                             <span class="keyword">in</span>  (ab a, s2)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> (<span class="type">State</span> <span class="title">s</span>) <span class="keyword">where</span></span></div><div class="line">  return = pure</div><div class="line">  <span class="type">State</span> f &gt;&gt;= k = <span class="type">State</span> $ \s -&gt; <span class="keyword">let</span> (a, s1) = f s</div><div class="line">                                <span class="keyword">in</span> runState (k a) s1</div></pre></td></tr></table></figure>
<p>å¾å¯¦ä½œä¸­å¯ä»¥çœ‹åˆ° state æœƒä¸æ–·çš„æ›´æ–°ç„¶å¾Œå‚³éä¸‹å»ã€‚</p>
<hr>
<h1 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h1><p>ä¸€èˆ¬çš„ State monad é‚„æœƒæä¾›å¹¾å€‹æ–¹ä¾¿çš„ method</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- å°‡å‡½æ•¸åŒ…é€² State ä¸­ï¼Œè®Šç‚º State monad</span></div><div class="line"><span class="title">state</span> :: (s -&gt; (a, s)) -&gt; <span class="type">State</span> s a</div><div class="line"><span class="title">state</span> = <span class="type">State</span></div><div class="line"></div><div class="line"><span class="comment">-- å–çš„ç•¶å‰çš„ state</span></div><div class="line"><span class="title">get</span> :: <span class="type">State</span> s s</div><div class="line"><span class="title">get</span> = <span class="type">State</span> $ \s -&gt; (s, s)</div><div class="line"></div><div class="line"><span class="comment">-- æ›´æ–° state</span></div><div class="line"><span class="title">put</span> :: s -&gt; <span class="type">State</span> s ()</div><div class="line"><span class="title">put</span> x = <span class="type">State</span> $ const ((), x)</div><div class="line"></div><div class="line"><span class="comment">-- å‚³å…¥ state åŸ·è¡Œ State monad ä¸¦å›å‚³æœ€å¾Œçš„ state</span></div><div class="line"><span class="title">execState</span> :: <span class="type">State</span> s a -&gt; s -&gt; s</div><div class="line"><span class="title">execState</span> (<span class="type">State</span> sa) s = snd $ sa s</div><div class="line"></div><div class="line"><span class="comment">-- å‚³å…¥ state åŸ·è¡Œ State monad ä¸¦å›å‚³æœ€å¾Œçš„é‹ç®—çµæœ a</span></div><div class="line"><span class="title">evalState</span> :: <span class="type">State</span> s a -&gt; s -&gt; a</div><div class="line"><span class="title">evalState</span> (<span class="type">State</span> sa) s = fst $ sa s</div><div class="line"></div><div class="line"><span class="comment">-- å° state åšè½‰æ›</span></div><div class="line"><span class="title">modify</span> :: (s -&gt; s) -&gt; <span class="type">State</span> s ()</div><div class="line"><span class="title">modify</span> f = <span class="type">State</span> $ \s -&gt; ((), f s)</div></pre></td></tr></table></figure>
<hr>
<h1 id="ç¯„ä¾‹æ”¹å¯«"><a href="#ç¯„ä¾‹æ”¹å¯«" class="headerlink" title="ç¯„ä¾‹æ”¹å¯«"></a>ç¯„ä¾‹æ”¹å¯«</h1><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="title">rollDie</span> :: <span class="type">State</span> <span class="type">StdGen</span> <span class="type">Int</span></div><div class="line"><span class="title">rollDie</span> = state $ randomR (<span class="number">1</span>, <span class="number">6</span>)</div><div class="line"></div><div class="line"><span class="title">rollDieNTimes</span> :: <span class="type">Int</span> -&gt; <span class="type">State</span> <span class="type">StdGen</span> [<span class="type">Int</span>]</div><div class="line"><span class="title">rollDieNTimes</span> n = replicateM n rollDie</div><div class="line"></div><div class="line">&gt; evalState (rollDieNTimes <span class="number">5</span>) (mkStdGen <span class="number">0</span>)</div><div class="line">[<span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>]</div></pre></td></tr></table></figure>
<p>å¦‚æ­¤ä¸€ä¾†å¯ä»¥å®šç¾©â€œèº‘ n æ¬¡éª°å­â€çš„å‡½æ•¸ï¼Œè€Œä¸”çœ‹èµ·ä¾†é‚„æ¯”åŸå…ˆç¯„ä¾‹æ›´ç‚ºç²¾ç°¡ã€‚</p>
<hr>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>å¦‚åŒ Reader monadï¼Œä¸€èˆ¬åœ¨ä½¿ç”¨æ™‚ï¼ŒåŒæ¨£æœƒç›´æ¥ä½¿ç”¨ç¾æˆçš„ library åƒ <a href="https://hackage.haskell.org/package/mtl" target="_blank" rel="external"><code>mtl</code></a>æˆ–<a href="https://hackage.haskell.org/package/transformers" target="_blank" rel="external"><code>transformers</code></a>ã€‚</p>
<p>å¯ä»¥å»çœ‹çœ‹é€™äº› library æ˜¯å¦‚ä½•å¯¦ä½œçš„ï¼Œè—‰æ­¤ä¾†å­¸ç¿’ã€‚</p>
<p>æ­¤å¤–é€šå¸¸çœ‹åˆ°æˆ–æ˜¯ä½¿ç”¨æ™‚ï¼Œå› ç‚ºæœƒéœ€æ­é…å…¶ä»–çš„ Monad ä¸€èµ·ä½¿ç”¨ï¼Œä¸¦ä¸æœƒç”¨<code>State</code>è€Œæ˜¯ä½¿ç”¨<code>StateT</code>ã€‚è€Œå»çœ‹åŸå§‹ç¢¼å¯ä»¥ç™¼ç¾ <code>State s a</code> å…¶å¯¦ä¹Ÿå°±æ˜¯<code>StateT s Identity a</code>çš„type aliasã€‚</p>
<hr>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ol>
<li><a href="https://en.wikibooks.org/wiki/Haskell/Understanding_monads/State" target="_blank" rel="external">Haskell/Understanding monads/State - Wikibooks, open books for an open world</a></li>
<li><a href="http://learnyouahaskell.com/" target="_blank" rel="external">Learn You a Haskell for Great Good!</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/30/reader-monad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/reader-monad/" itemprop="url">Reader monad</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/tancc/" itemprop="url" rel="index">
              <span itemprop="name">tancc</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-30T14:54:11+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ç¨‹å¼ä¸­æ™‚å¸¸æœ‰è¨±å¤šå‡½æ•¸æ˜¯éœ€è¦å»ä½¿ç”¨å…±ç”¨çš„å¸¸æ•¸(shared environment)ï¼Œå¸¸è¦‹çš„åƒæ˜¯è¨­å®šæª”(config)ä¹‹é¡çš„æ±è¥¿ã€‚</p>
<p>æ­¤æ™‚å‡½æ•¸çš„åƒæ•¸å°±æ˜¯é€™äº›ä½¿ç”¨åˆ°çš„å¦‚ configï¼Œæˆ‘å€‘å¿…é ˆåœ¨ type signature å¯«å‡ºéœ€è¦çš„åƒæ•¸å‹åˆ¥ï¼Œæ­¤å¤–åœ¨ä½¿ç”¨æ™‚å¿…é ˆé¡¯å¼çš„å¯«å‡ºè¦å‚³å…¥çš„æ±è¥¿<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- å‡è¨­æ­¤æ™‚çš„ configs ä¸­æœ‰ name age weight height ç­‰ç­‰</span></div><div class="line"><span class="title">myFunc1</span> :: <span class="type">Name</span> -&gt; <span class="type">Age</span> -&gt; ...</div><div class="line"><span class="title">myFunc2</span> :: <span class="type">Name</span> -&gt;...</div><div class="line"><span class="title">myFunc3</span> :: <span class="type">Weight</span> -&gt; <span class="type">Height</span> -&gt; ...</div><div class="line"><span class="comment">-- ...</span></div><div class="line"><span class="title">myFunc1</span> name age</div><div class="line"><span class="title">myFunc2</span> name </div><div class="line"><span class="title">myFunc3</span> weight height</div><div class="line"><span class="comment">-- ...</span></div></pre></td></tr></table></figure></p>
<p>é€™æ¨£çš„å£è™•å¾ˆæ˜é¡¯å°±æ˜¯æˆ‘å€‘å¿…é ˆé‡è¤‡å¯«å¾ˆå¤šæ±è¥¿ã€‚<br>è¦è§£æ±ºé€™å•é¡Œçš„ä¸€å€‹ç›´è¦ºæƒ³æ³•å°±æ˜¯ï¼Œè®“é€™äº›å‡½æ•¸æ‰€åœ¨çš„ scopeï¼Œå¯ä»¥è‡ªç”±åœ°å–å¾—å…±ç”¨çš„è³‡æ–™ï¼Œå¦‚æ­¤ä¸€ä¾†å°±ä¸éœ€ç”±æˆ‘å€‘æ‰‹å‹•å‚³å…¥äº†ã€‚<br>è€Œåœ¨ functional programming ä¸­ï¼Œå°±æ˜¯ä½¿ç”¨å‡½æ•¸å»é”æˆã€‚åªè¦å°‡é€™äº›å‡½æ•¸åšè‰¯å¥½çš„å®šç¾©ï¼Œä¸¦å¡åˆ°ä¸€å€‹æ›´å¤§çš„å‡½æ•¸è£¡ï¼Œå°‡å…±äº«è³‡æºå‚³å…¥é€™å€‹å¤§å‡½æ•¸ä¸­ï¼Œè£¡é ­çš„å°å‡½æ•¸å€‘å°±éƒ½å¯ä»¥å»å–å¾—äº†ã€‚</p>
<p>Reader monad å°±æ˜¯å¯ä»¥å¹«æˆ‘å€‘åšé€™ä»¶äº‹æƒ…çš„å·¥å…·ï¼Œå› æ­¤ä»–åˆæœ‰å¦å¤–çš„åç¨±ï¼ŒEnvironment monadã€‚<br>è€Œæœ€ç°¡å–®çš„ Reader monad å…¶å¯¦å°±æ˜¯ä¸€å€‹å‡½æ•¸çš„æ–°åç¨±ç½·äº†ã€‚</p>
<hr>
<h1 id="ç¯„ä¾‹"><a href="#ç¯„ä¾‹" class="headerlink" title="ç¯„ä¾‹"></a>ç¯„ä¾‹</h1><p>é€™è£¡ç”¨ä¸€æ®µæ²’ä»€éº¼ç”¨è™•çš„ç¨‹å¼ç¢¼ä¾†èˆ‰ä¾‹ã€‚<br>é€™è£¡çš„å‡½æ•¸ç”¨è¿”å›åŸ·è¡Œåˆ¥ç”¨<code>Maybe</code>ï¼Œåªæ˜¯ç‚ºäº†è¦ç”¨<code>do notation</code>è€Œå·²<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Name</span> = <span class="type">String</span></span></div><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Age</span> = <span class="type">Int</span></span></div><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Height</span> = <span class="type">Double</span></span></div><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Weight</span> = <span class="type">Double</span></span></div><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Result</span> = (<span class="type">String</span>, <span class="type">String</span>, <span class="type">String</span>, <span class="type">Double</span>)</span></div><div class="line"></div><div class="line"><span class="title">revName</span> :: <span class="type">Name</span> -&gt; <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">revName</span> n = <span class="type">Just</span> $ <span class="string">"Reverse Name: "</span> ++ reverse n</div><div class="line"></div><div class="line"><span class="title">nameAndAge</span> :: <span class="type">Name</span> -&gt; <span class="type">Age</span> -&gt; <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">nameAndAge</span> n a = <span class="type">Just</span> $ <span class="string">"Name &amp; Age: "</span> ++ n ++ <span class="string">" "</span> ++ show a</div><div class="line"></div><div class="line"><span class="title">weightAndHeight</span> :: <span class="type">Weight</span> -&gt; <span class="type">Height</span> -&gt; <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">weightAndHeight</span> w h = <span class="type">Just</span> $ <span class="string">"Weight &amp; Height: "</span> ++ show w ++ <span class="string">" "</span> ++ show h</div><div class="line"></div><div class="line"><span class="title">calBmi</span> :: <span class="type">Height</span> -&gt; <span class="type">Weight</span> -&gt; <span class="type">Maybe</span> <span class="type">Double</span></div><div class="line"><span class="title">calBmi</span> h w = <span class="type">Just</span> $ w / (h / <span class="number">100</span>)^<span class="number">2</span></div><div class="line"></div><div class="line"><span class="title">go</span> = </div><div class="line">  <span class="keyword">let</span></div><div class="line">    name   = <span class="string">"Tom"</span></div><div class="line">    age    = <span class="number">20</span></div><div class="line">    height = <span class="number">180</span></div><div class="line">    weight = <span class="number">100</span></div><div class="line">  <span class="keyword">in</span></div><div class="line">    <span class="keyword">do</span></div><div class="line">      na &lt;- nameAndAge name age</div><div class="line">      n  &lt;- revName name</div><div class="line">      wh &lt;- weightAndHeight weight height</div><div class="line">      b  &lt;- calBmi height weight</div><div class="line">      return (na, n, wh, b)</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥ç™¼ç¾ <code>nameAndAge</code>, <code>revName</code>, <code>weightAndHeight</code>, <code>calBmi</code>ç­‰å‡½æ•¸ï¼Œæˆ‘å€‘éœ€è¦å®šç¾©ã€å‚³åœ°é‡è¤‡çš„æ±è¥¿é€²å»ï¼Œä½¿ç¨‹å¼ç¢¼çœ‹èµ·ä¾†è¼ƒç‚ºç¹å†—ã€‚<br>è€Œä»–å€‘ç”¨åˆ°çš„é€™äº› input å°±å¯ä»¥å°‡å…¶æƒ³åƒæˆ shared environment é€™ç¨®åœ¨ç¨‹å¼åŸ·è¡Œæ™‚ä¸¦ä¸æœƒå»æ”¹è®Šä¸”å¾ˆå¤šåœ°æ–¹éƒ½æœƒç”¨åˆ°çš„æ±è¥¿ã€‚</p>
<hr>
<h1 id="å®šç¾©-Reader-monad"><a href="#å®šç¾©-Reader-monad" class="headerlink" title="å®šç¾© Reader monad"></a>å®šç¾© Reader monad</h1><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">newtype</span> <span class="type">Reader</span> r a = <span class="type">Reader</span> &#123; <span class="title">runReader</span> :: <span class="title">r</span> -&gt; <span class="title">a</span> &#125;</span></div></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯èªªï¼Œ<code>Reader</code> å°±æ˜¯åŒ…è£¹äº†ä¸€å€‹å‡½æ•¸ <code>r -&gt; a</code> ï¼Œå…¶ä¸­ <code>r</code> å°±æ˜¯æˆ‘å€‘è¦å‚³å…¥çš„å…±ç”¨è³‡æ–™ï¼Œæœ‰äº›åœ°æ–¹ä¹Ÿæœƒç”¨<code>e</code>ä¾†è¡¨ç¤º(environment)ï¼›<code>a</code> è¡¨ç¤ºåƒé€² <code>r</code> å¾Œï¼Œæœƒå›å‚³çš„æ±è¥¿æ˜¯ä»€éº¼ã€‚</p>
<p>å†ä¾†æˆ‘å€‘å¯ä»¥è‡ªå·±å®šç¾©ä»–ä¸€ç³»åˆ—çš„<code>Functor</code> <code>Applicative</code> <code>Monad</code> instance</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Functor</span> (<span class="type">Reader</span> <span class="title">r</span>) <span class="keyword">where</span></span></div><div class="line">  fmap :: (a -&gt; b) -&gt; <span class="type">Reader</span> r a -&gt; <span class="type">Reader</span> r b</div><div class="line">  fmap f (<span class="type">Reader</span> ra) = <span class="type">Reader</span> $ f . ra</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Applicative</span> (<span class="type">Reader</span> <span class="title">r</span>) <span class="keyword">where</span></span></div><div class="line">  pure :: a -&gt; <span class="type">Reader</span> r a</div><div class="line">  pure a = <span class="type">Reader</span> $ const a</div><div class="line">  (&lt;*&gt;) :: <span class="type">Reader</span> r (a -&gt; b) -&gt; <span class="type">Reader</span> r a -&gt; <span class="type">Reader</span> r b</div><div class="line">  (<span class="type">Reader</span> rab) &lt;*&gt; (<span class="type">Reader</span> ra) =</div><div class="line">    <span class="type">Reader</span> $ \r -&gt; rab r (ra r)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> (<span class="type">Reader</span> <span class="title">r</span>) <span class="keyword">where</span></span></div><div class="line">  return = pure</div><div class="line">  (&gt;&gt;=) :: <span class="type">Reader</span> r a -&gt; (a -&gt; <span class="type">Reader</span> r b) -&gt; <span class="type">Reader</span> r b</div><div class="line">  (<span class="type">Reader</span> ra) &gt;&gt;= aRb =</div><div class="line">    <span class="type">Reader</span> $ \r -&gt; runReader (aRb (ra r)) r</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°é€™è£¡çš„ structure æ˜¯ <code>Reader r</code> ä¹Ÿå°±æ˜¯ <code>(-&gt;) r</code> (function type) é€™éƒ¨åˆ†ã€‚è€Œä¸”åœ¨å¯¦ä½œç•¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<code>r</code>æ˜¯ä¿æŒè‘—åŸä¾†çš„å€¼è¢«å‚³éï¼Œä¸¦æ²’æœ‰è¢«åšå…¶ä»–transformï¼Œå› æ­¤å¯ä»¥ç¢ºä¿ Reader monad å¯ä»¥æ‹¿åˆ°ç›¸åŒçš„<code>r</code></p>
<p>å°ç…§ <code>(-&gt;) r</code> åœ¨<a href="https://hackage.haskell.org/package/base-4.11.0.0/docs/src/GHC.Base.html#line-794" target="_blank" rel="external">åŸå§‹ç¢¼</a>ä¸­å®šç¾©çš„<code>Functor</code> <code>Applicative</code> <code>Monad</code> instanceï¼Œå¯ä»¥ç™¼ç¾åŸºæœ¬ä¸Šæ˜¯ä¸€æ¨£çš„ï¼Œåªæ˜¯å¤šäº† <code>Reader</code> é€™ä¸€å±¤åŒ…è£ã€‚</p>
<p>è‹¥å°‡å‹åˆ¥å®šç¾©ä¸­çš„ <code>Reader r</code> ç”¨ <code>(-&gt;) r</code> æ›¿æ›ï¼Œå¯ä»¥çœ‹åˆ°æ›´æ˜é¡¯çš„çµæœ<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="title">fmap</span> :: (a -&gt; b) -&gt; <span class="type">Reader</span> r a -&gt; <span class="type">Reader</span> r b</div><div class="line">      = (a -&gt; b) -&gt;  (-&gt;)  r a -&gt;  (-&gt;)  r b</div><div class="line">      = (a -&gt; b) -&gt;  (r -&gt; a)  -&gt;  (r -&gt; b)</div><div class="line">      </div><div class="line">(&lt;*&gt;) :: <span class="type">Reader</span> r (a -&gt; b) -&gt; <span class="type">Reader</span> r a -&gt; <span class="type">Reader</span> r b</div><div class="line">      =   (-&gt;)  r (a -&gt; b) -&gt;  (-&gt;)  r a -&gt;  (-&gt;)  r b</div><div class="line">      =      (r -&gt; a -&gt; b) -&gt;  (r -&gt; a)  -&gt;  (r -&gt; b)</div><div class="line">      </div><div class="line">(&gt;&gt;=) :: <span class="type">Reader</span> r a -&gt; (a -&gt; <span class="type">Reader</span> r b) -&gt; <span class="type">Reader</span> r b</div><div class="line">      =    (-&gt;) r a -&gt; (a -&gt; ((-&gt;) r b)) -&gt; (-&gt;) r b</div><div class="line">      =    (r -&gt; a) -&gt; (a -&gt; (r -&gt; b)    -&gt; (r -&gt; b)</div></pre></td></tr></table></figure></p>
<p>æ‰€ä»¥å…¶å¯¦ Reader monad çš„æ¦‚å¿µï¼Œå°±æ˜¯è·Ÿ function type <code>(-&gt;) r</code> æ˜¯ä¸€æ¨£çš„ã€‚</p>
<hr>
<h1 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h1><p>ä½¿ç”¨äº†<code>newtype Reader</code>å°‡ function åŒ…è£å¾Œï¼Œé‚„æ²’æœ‰ä»€éº¼ç”¨ã€‚<br>é‚„éœ€è¦ä¸€äº›å°å·¥å…·ä½¿æˆ‘å€‘å¯ä»¥æ–¹ä¾¿åœ°æ‹¿åˆ°æƒ³è¦çš„è³‡æ–™ï¼Œ<code>ask</code>èˆ‡<code>asks</code>ä»¥åŠ<code>local</code><br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- å–å¾— shared environment</span></div><div class="line"><span class="title">ask</span> :: <span class="type">Reader</span> a a</div><div class="line"><span class="title">ask</span> = <span class="type">Reader</span> id</div><div class="line"> <span class="comment">-- = Reader $ \r -&gt; r</span></div><div class="line"></div><div class="line"><span class="title">asks</span> :: (r -&gt; a) -&gt; <span class="type">Reader</span> r a</div><div class="line"><span class="title">asks</span> = <span class="type">Reader</span></div></pre></td></tr></table></figure></p>
<p><code>ask</code>å°±æ˜¯ä¸€å€‹<code>id</code>ï¼Œä¹Ÿå°±æ˜¯å‚³ä»€éº¼å°±åä¸€æ¨£çš„æ±è¥¿å›ä¾†ã€‚æ‰€ä»¥å°±æ˜¯å¯ä»¥æ‹¿åˆ°<code>Reader r a</code>ä¸­çš„<code>r</code>ã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="title">ex</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">String</span></div><div class="line"><span class="title">ex</span> = <span class="keyword">do</span> </div><div class="line">  config &lt;- ask</div><div class="line">  <span class="comment">-- ...</span></div></pre></td></tr></table></figure></p>
<p><code>asks</code>çš„åƒæ•¸æ˜¯ä¸€å€‹å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸çš„ä½œç”¨å°±é¡ä¼¼ selectorï¼Œç”¨ä¾†å¡é¸å–å¾—åœ¨ shared environment ä¸­æƒ³è¦çš„è³‡æ–™ã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="title">ex</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">String</span></div><div class="line"><span class="title">ex</span> = <span class="keyword">do</span> </div><div class="line">  n &lt;- asks $ lookup <span class="string">"name"</span></div><div class="line">  <span class="comment">-- ...</span></div></pre></td></tr></table></figure></p>
<p><code>local</code>æ˜¯ç”¨ä¾†ä¿®æ”¹ Reader contentï¼Œä½†ä»–ä¸æ˜¯ä¿®æ”¹å…¨åŸŸçš„å…§å®¹ï¼Œè€Œæ˜¯åªæœ‰åœ¨<code>local</code> scope è£¡é¢çš„ Reader Monad æ‰æœƒè¢«å½±éŸ¿ã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="title">local</span> :: (r -&gt; r) -&gt; <span class="type">Reader</span> r a -&gt; <span class="type">Reader</span> r a</div><div class="line"><span class="title">local</span> f (<span class="type">Reader</span> ra) = <span class="type">Reader</span> $ \r -&gt; ra (f r)</div><div class="line"></div><div class="line"><span class="comment">-- example</span></div><div class="line"><span class="title">ex</span> :: <span class="type">Reader</span> <span class="type">Int</span> (<span class="type">Int</span>, <span class="type">Int</span>)</div><div class="line"><span class="title">ex</span> = <span class="keyword">do</span></div><div class="line">  i &lt;- local (+<span class="number">1</span>) $ <span class="keyword">do</span></div><div class="line">    i &lt;- ask</div><div class="line">    return i</div><div class="line">  j &lt;- ask</div><div class="line">  return (i, j)</div><div class="line">  </div><div class="line">&gt; runReader ex <span class="number">10</span></div><div class="line">(<span class="number">11</span>, <span class="number">10</span>)</div></pre></td></tr></table></figure></p>
<p>å¾<code>ex</code>çš„åŸ·è¡Œç¯„ä¾‹å¯ä»¥çœ‹åˆ°ï¼Œ<code>i</code>ä¹Ÿå°±æ˜¯ç¶“é<code>local</code>å¾Œ Reader content çš„ç¢ºæ˜¯è¢«ä¿®æ”¹äº†ï¼Œä½†æ˜¯ç”¨<code>ask</code>æ‹¿åˆ°çš„ Reader content <code>j</code>ï¼Œé‚„æ˜¯ç‚º 10 æ²’æœ‰æ”¹è®Šã€‚<br>æ‰€ä»¥<code>local</code>çš„ä½œç”¨æ˜¯å€åŸŸä¿®æ”¹è€Œä¸æœƒå½±éŸ¿åˆ°å…¶ scope å¤–çš„åœ°æ–¹ï¼Œæ‰€ä»¥ç¸½çš„ä¾†èªªå…¶å¯¦ Reader contentä¸¦æ²’æœ‰ç™¼ç”Ÿæ”¹è®Šã€‚</p>
<hr>
<h1 id="ç¯„ä¾‹æ”¹å¯«"><a href="#ç¯„ä¾‹æ”¹å¯«" class="headerlink" title="ç¯„ä¾‹æ”¹å¯«"></a>ç¯„ä¾‹æ”¹å¯«</h1><p>åŸæœ¬çš„ç¯„ä¾‹ç¨‹å¼å¯ä»¥ç”¨ Reader monad å¦‚æ­¤æ”¹å¯«<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">type</span> <span class="type">Result</span> = (<span class="type">String</span>, <span class="type">String</span>, <span class="type">String</span>, <span class="type">Double</span>)</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Config</span> = <span class="type">Config</span> &#123; <span class="title">name</span>   :: <span class="type">String</span></span></div><div class="line"><span class="class">                      , <span class="title">age</span>    :: <span class="type">Int</span></span></div><div class="line"><span class="class">                      , <span class="title">height</span> :: <span class="type">Double</span></span></div><div class="line"><span class="class">                      , <span class="title">weight</span> :: <span class="type">Double</span></span></div><div class="line"><span class="class">                      &#125;</span></div><div class="line"></div><div class="line"><span class="title">revName</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">String</span></div><div class="line"><span class="title">revName</span> = <span class="keyword">do</span></div><div class="line">  n &lt;- asks name</div><div class="line">  return $ <span class="string">"Reverse Name: "</span> ++ reverse n</div><div class="line"></div><div class="line"><span class="title">nameAndAge</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">String</span></div><div class="line"><span class="title">nameAndAge</span> = <span class="keyword">do</span></div><div class="line">  n &lt;- asks name</div><div class="line">  a &lt;- asks age</div><div class="line">  return $ <span class="string">"Name &amp; Age: "</span> ++ n ++ <span class="string">" "</span> ++ show a</div><div class="line"></div><div class="line"><span class="title">weightAndHeight</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">String</span></div><div class="line"><span class="title">weightAndHeight</span> = <span class="keyword">do</span></div><div class="line">  w &lt;- asks weight</div><div class="line">  h &lt;- asks height</div><div class="line">  return $ <span class="string">"Weight &amp; Height: "</span> ++ show w ++ <span class="string">" "</span> ++ show h</div><div class="line"></div><div class="line"><span class="title">calBmi</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">Double</span></div><div class="line"><span class="title">calBmi</span> = <span class="keyword">do</span></div><div class="line">  w &lt;- asks weight</div><div class="line">  h &lt;- asks height</div><div class="line">  return $ w / (h / <span class="number">100</span>)^<span class="number">2</span></div><div class="line"></div><div class="line"><span class="title">go</span> :: <span class="type">Reader</span> <span class="type">Config</span> <span class="type">Result</span></div><div class="line"><span class="title">go</span> = <span class="keyword">do</span></div><div class="line">    na &lt;- nameAndAge</div><div class="line">    n  &lt;- revName</div><div class="line">    wh &lt;- weightAndHeight</div><div class="line">    b  &lt;- calBmi</div><div class="line">    return (na, n, wh, b)</div><div class="line"></div><div class="line"><span class="title">showResult</span> = runReader go $ <span class="type">Config</span> &#123;name = <span class="string">"WOW"</span>, age = <span class="number">20</span>, height = <span class="number">190</span>, weight = <span class="number">100</span>&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸»è¦çš„å·®åˆ¥åœ¨æ–¼ï¼Œæ¯å€‹å‡½æ•¸çš„ type signature æ˜¯ä¸€è‡´çš„ <code>Reader Config [å›å‚³å‹åˆ¥]</code>ï¼Œå¤§å®¶æ˜¯å…±äº«ä¸€ä»½ configã€‚<br>å„å‡½æ•¸åœ¨å…¶å…§éƒ¨è‡ªè¡Œå®šç¾©è¦å–å¾—ä»€éº¼è³‡æ–™ï¼Œå¦‚æ­¤ä¸€ä¾†åœ¨ä½¿ç”¨çš„æ™‚å€™å°±ä¸éœ€è¦é¡¯ç¤ºçš„å‚³éé€²å»äº†ã€‚</p>
<hr>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>ä¸€èˆ¬æƒ…æ³åœ¨ä½¿ç”¨ Reader Monad æ™‚ä¸¦ä¸æœƒè‡ªè¡Œå»å®šç¾©ï¼Œå¯èƒ½æœƒç”¨ä¸€äº› library åƒ <a href="https://hackage.haskell.org/package/mtl" target="_blank" rel="external"><code>mtl</code></a>æˆ–<a href="https://hackage.haskell.org/package/transformers" target="_blank" rel="external"><code>transformers</code></a>ï¼Œ<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Control.Monad.Reader</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">MyContext</span> = <span class="type">MyContext</span></span></div><div class="line">  &#123; foo :: <span class="type">String</span></div><div class="line">  , bar :: <span class="type">Int</span></div><div class="line">  &#125; <span class="keyword">deriving</span> (<span class="type">Show</span>)</div><div class="line"></div><div class="line"><span class="title">computation</span> :: <span class="type">Reader</span> <span class="type">MyContext</span> (<span class="type">Maybe</span> <span class="type">String</span>)</div><div class="line"><span class="title">computation</span> = <span class="keyword">do</span></div><div class="line">  n &lt;- asks bar</div><div class="line">  x &lt;- asks foo</div><div class="line">  <span class="keyword">if</span> n &gt; <span class="number">0</span></div><div class="line">    <span class="keyword">then</span> return (<span class="type">Just</span> x)</div><div class="line">    <span class="keyword">else</span> return <span class="type">Nothing</span></div><div class="line"></div><div class="line"><span class="title">ex1</span> :: <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">ex1</span> = runReader computation $ <span class="type">MyContext</span> <span class="string">"hello"</span> <span class="number">1</span></div><div class="line"></div><div class="line"><span class="title">ex2</span> :: <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">ex2</span> = runReader computation $ <span class="type">MyContext</span> <span class="string">"haskell"</span> <span class="number">0</span></div></pre></td></tr></table></figure></p>
<p>ä»–å€‘åŒæ¨£ä¹Ÿéƒ½æä¾›äº†åŸºæœ¬çš„åƒæ˜¯<code>ask</code>, <code>asks</code>, <code>local</code>ï¼Œå¯ä»¥å»çœ‹çœ‹é€™äº› library æ˜¯å¦‚ä½•å¯¦ä½œçš„ï¼Œè—‰æ­¤ä¾†å­¸ç¿’ã€‚</p>
<p>æ­¤å¤–é€šå¸¸çœ‹åˆ°æˆ–æ˜¯ä½¿ç”¨æ™‚ï¼Œå› ç‚ºæœƒéœ€æ­é…å…¶ä»–çš„ Monad ä¸€èµ·ä½¿ç”¨ï¼Œä¸¦ä¸æœƒç”¨<code>Reader</code>è€Œæ˜¯ä½¿ç”¨<code>ReaderT</code>ï¼Œ<code>T</code>è¡¨ç¤º transformerã€‚</p>
<hr>
<h1 id="åƒè€ƒè³‡æ–™åŠæ›´å¤šè³‡æº"><a href="#åƒè€ƒè³‡æ–™åŠæ›´å¤šè³‡æº" class="headerlink" title="åƒè€ƒè³‡æ–™åŠæ›´å¤šè³‡æº"></a>åƒè€ƒè³‡æ–™åŠæ›´å¤šè³‡æº</h1><ol>
<li><a href="https://hackage.haskell.org/package/mtl" target="_blank" rel="external">mtl</a></li>
<li><a href="https://hackage.haskell.org/package/transformers" target="_blank" rel="external">transformers</a></li>
<li><a href="http://adit.io/posts/2013-06-10-three-useful-monads.html" target="_blank" rel="external">Three Useful Monads - adit.io</a></li>
<li><a href="http://dev.stephendiehl.com/hask/#reader-monad" target="_blank" rel="external">What I Wish I Knew When Learning Haskell 2.3 ( Stephen Diehl )</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/29/haskell-functor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/haskell-functor/" itemprop="url">Haskell ç³»åˆ— - Functor (å‡½å­)</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/jackypan1989/" itemprop="url" rel="index">
              <span itemprop="name">jackypan1989</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-29T18:26:55+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="map-å‡½æ•¸"><a href="#map-å‡½æ•¸" class="headerlink" title="map å‡½æ•¸"></a>map å‡½æ•¸</h1><p>å¦‚æœä¹‹å‰æ˜¯å¯« javascript çš„ï¼Œé‚£ä½ ä¸€å®šæœƒç”¨é map é€™å€‹ function<br>èˆ‰å€‹ä¾‹å­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> add1 = <span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span></div><div class="line"></div><div class="line">add1(<span class="number">5</span>) <span class="comment">// ç­”æ¡ˆæ˜¯6</span></div><div class="line">add1([<span class="number">5</span>]) <span class="comment">// æœ‰error å› ç‚ºadd1 ç„¡æ³•æ‡‰ç”¨åœ¨arrayä¸Š</span></div><div class="line"></div><div class="line">[<span class="number">5</span>].map(add1) <span class="comment">// ç­”æ¡ˆæ˜¯[6]</span></div><div class="line"></div><div class="line"><span class="comment">// æ›´ç”šè€…, æ¡ç”¨ramda.jsä¹‹é¡çš„lib</span></div><div class="line"><span class="keyword">const</span> mappedAdd1 = R.map(add1)</div><div class="line">mappedAdd1([<span class="number">5</span>]) <span class="comment">// ç­”æ¡ˆä¸€æ¨£æ˜¯[6], ä½†add1å·²ç¶“è½‰æˆäº†mappedAdd1</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥ç™¼ç¾é€™mapå‡½æ•¸å¯ä»¥è®“æˆ‘å€‘æŠŠåŸæœ¬ä¸€å€‹åªèƒ½è™•ç†intçš„å‡½æ•¸<br>è®Šæˆä¸€å€‹å¯ä»¥è™•ç†[int]ï¼Œä¹Ÿå°±æ˜¯èªªå…¶å¯¦ä»–å¯ä»¥ç©¿è¶Š[]é€™å€‹æ‰€ä»£è¡¨çš„æ„ç¾©<br>å°‡é€™å€‹contextè£¡é¢çš„å€¼å–å‡ºï¼Œå¥—ç”¨add1ï¼Œå†æŠŠä»–æ”¾å›context</p>
<h1 id="Functor-å‡½å­"><a href="#Functor-å‡½å­" class="headerlink" title="Functor (å‡½å­)"></a>Functor (å‡½å­)</h1><p>å¦‚åŒå‰›å‰›æ‰€èªª functor å…¶å¯¦å°±æ˜¯æŠŠè¨±å¤štypeä¸­å¯ä»¥mapé€™ä»¶äº‹çµ¦æŠ½è±¡å‡ºä¾†<br>çœ‹çœ‹ haskell ä¸­çš„å¯¦ä½œ</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; :i <span class="type">Functor</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Functor</span> (<span class="title">f</span> :: * -&gt; *) <span class="keyword">where</span></span></div><div class="line">    fmap :: (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line">    (&lt;$) :: a -&gt; f b -&gt; f a</div><div class="line">    <span class="meta">&#123;-# MINIMAL fmap #-&#125;</span></div><div class="line">    <span class="comment">-- Defined in â€˜GHC.Baseâ€™</span></div></pre></td></tr></table></figure>
<p>é€™ fmap å°±æ˜¯æˆ‘å€‘å¸¸çœ‹åˆ°çš„ map å‡½æ•¸</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure>
<p>çœ‹çœ‹ä»–çš„æ„æ€<br>å‚³é€²ä¸€å€‹ function è·Ÿä¸€å€‹å¸¶æœ‰contextçš„å€¼å†å›å‚³å¦ä¸€å€‹å¸¶æœ‰contextå€¼<br>å°ç…§ä¸€é–‹å§‹çš„ç¯„ä¾‹ï¼Œå‚³é€²ä¸€å€‹ x=x+1, [5], å†å›å‚³å¦ä¸€å€‹ [6]<br>æ‰€ä»¥æœ‰äº›äººæœƒæŠŠ functor æ¯”å–»æˆç›’å­, ä¸èƒ½èªªéŒ¯<br>ä½†ä»–å…¶å¯¦å°±æ˜¯å¾ˆç°¡å–®çš„æŠŠ function æå‡(lift)æˆ å¯ä»¥è™•ç†contextçš„ functionè€Œå·²<br>æ˜¯ function çš„è™•ç†èƒ½åŠ›æå‡è€Œä¸æ˜¯çœŸæ­£æœ‰ä¸€å€‹å®¹å™¨æˆ–æ˜¯boxåœ¨ (å¯èƒ½æ˜¯å› ç‚ºlistå¤ªé©åˆç”¨boxè§£é‡‹)</p>
<p>åœ¨æ•¸å­¸ä¸Šå°±æ˜¯ï¼Œå…©å€‹Haskç¯„ç–‡ä¹‹é–“çš„è½‰æ›<br>è€Œä¸”ä¹Ÿè®“åŸæœ¬ç¯„ç–‡(Haskç¯„ç–‡)ä¸­çš„ç‰©ä»¶(type)èˆ‡æ…‹å°„(function)éƒ½æå‡æˆå¸¶æœ‰ä¸Šä¸‹æ–‡æˆ–è™•ç†ä¸Šä¸‹æ–‡</p>
<h1 id="List-Functor"><a href="#List-Functor" class="headerlink" title="List Functor"></a>List Functor</h1><p>é€™æˆ‘å€‘å‰›å‰›èˆ‰ä¾‹éäº†ï¼Œç›´æ¥çœ‹çœ‹å¯¦ä½œ</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Functor</span> [] <span class="keyword">where</span></span></div><div class="line">    <span class="meta">&#123;-# INLINE fmap #-&#125;</span></div><div class="line">    fmap = map</div></pre></td></tr></table></figure>
<p>fmap æœç„¶å°±æ˜¯ map å‡½æ•¸</p>
<h1 id="Maybe-Functor"><a href="#Maybe-Functor" class="headerlink" title="Maybe Functor"></a>Maybe Functor</h1><p>å†ä¾†çœ‹çœ‹ Maybe<br>maybe a åŒ…å«äº† just a è·Ÿ nothing<br>å…¶ä¸­ nothing ä»£è¡¨å¯èƒ½ç‚ºç©ºå€¼é€™å€‹ context</p>
<p>ç”¨æƒ³åƒåŠ›æƒ³ä¸€ä¸‹<br>å¦‚æœæ˜¯ just 6 é‚£æˆ‘å€‘å°±æŠŠ 6 å¾ just é€™å€‹ context å–å‡ºä¾†ï¼Œåšå®Œé‹ç®—å†ç”¨juståŒ…å›å»<br>å¦‚æœæ˜¯ nothing é‚£å°±æ ¹æœ¬ä¸ç”¨ç®¡ç›´æ¥ nothing å› ç‚º nothing æ€éº¼æ“ä½œéƒ½æ˜¯ nothing</p>
<p>å›å»çœ‹çœ‹åŸå§‹ç¢¼</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span>  <span class="type">Functor</span> <span class="type">Maybe</span>  <span class="keyword">where</span></span></div><div class="line">    fmap _ <span class="type">Nothing</span>       = <span class="type">Nothing</span></div><div class="line">    fmap f (<span class="type">Just</span> a)      = <span class="type">Just</span> (f a)</div></pre></td></tr></table></figure>
<p>æœç„¶æˆ‘å€‘æƒ³çš„ä¸€æ¨£<br>ä»¥maybeä¾†èªªï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ç›´æ¥é‡å°ä»–é€²è¡Œfmapæ“ä½œ<br>fmapæˆ‘å€‘åˆæŠŠä»–ç”¨ &lt;$&gt; ä¾†ä»£è¡¨</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;:&#123;</div><div class="line"><span class="title">add1</span> :: <span class="type">Int</span> -&gt; <span class="type">Int</span></div><div class="line"><span class="title">add1</span> x = x + <span class="number">1</span></div><div class="line">:&#125;</div><div class="line"></div><div class="line">&gt; add1 &lt;$&gt; [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">[<span class="number">2</span>,<span class="number">3</span>]</div><div class="line"></div><div class="line">&gt; add &lt;$&gt; <span class="type">Just</span> <span class="number">3</span></div><div class="line"><span class="type">Just</span> <span class="number">4</span></div></pre></td></tr></table></figure>
<p>é€™å°±å°äº†ï¼ŒåŸæœ¬åªèƒ½è™•ç†Intçš„function<br>è®Šæˆå¯ä»¥è™•ç†[Int], é€£Maybe Intä¹Ÿå¯ä»¥äº†<br>æ‰€ä»¥ [], Maybe éƒ½æ˜¯ functor</p>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ol>
<li>haskell wiki</li>
<li>learn you a haskell</li>
<li>hoogle</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/28/haskell-monoid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/haskell-monoid/" itemprop="url">Haskell ç³»åˆ— - Monoid (ã„ åŠç¾¤)</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/jackypan1989/" itemprop="url" rel="index">
              <span itemprop="name">jackypan1989</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-28T18:26:55+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Monoid-ã„ åŠç¾¤"><a href="#Monoid-ã„ åŠç¾¤" class="headerlink" title="Monoid (ã„ åŠç¾¤)"></a>Monoid (ã„ åŠç¾¤)</h1><p>Haskell æ˜¯è·Ÿç´”æ•¸å­¸æ¯æ¯ç›¸é—œçš„ç¨‹å¼èªè¨€ï¼Œæœ‰è¨±å¤šæŠ½è±¡åŒ–çš„æ–¹å¼éƒ½ä¾†è‡ªæ•¸å­¸ç†è«–(ä¾‹å¦‚ç¯„ç–‡è«–è·Ÿç¾¤è«–)<br>é€™è£¡çš„ typeclass Monoid æ­£æ˜¯ä»£è¡¨æŸäº› data çš„ç‰¹æ€§ï¼Œé¦–å…ˆçœ‹çœ‹åœ¨ haskell ä¸­çš„ Monoid</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; :i <span class="type">Monoid</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Monoid</span> a <span class="keyword">where</span></span></div><div class="line">  mempty :: a</div><div class="line">  mappend :: a -&gt; a -&gt; a</div><div class="line">  mconcat :: [a] -&gt; a</div><div class="line">  <span class="meta">&#123;-# MINIMAL mempty, mappend #-&#125;</span></div></pre></td></tr></table></figure>
<p>æˆ‘å€‘å¯ä»¥ç™¼ç¾ Monoid å¿…é ˆè‡³å°‘å¯¦ä½œå…©å€‹æ–¹æ³•ï¼Œä¸€å€‹ç‚º memptyï¼Œå¦ä¸€å€‹æ˜¯ mappend<br>åœ¨æ•¸å­¸ç†è«–ä¸­ï¼Œå®šç¾©å¦‚ä¸‹ï¼Œæ»¿è¶³ä»¥ä¸‹å…©å€‹ç‰¹å¾µçš„ç¨±ç‚º monoid</p>
<ol>
<li>æœ‰å–®ä½å…ƒ</li>
<li>æœ‰ä¸€å€‹äºŒå…ƒoperatoræ»¿è¶³çµåˆå¾‹</li>
</ol>
<p>1çš„æ„æ€æ˜¯è£¡é¢æœ‰å€‹å…ƒç´ ï¼Œå…¶ä»–å…ƒç´ è·Ÿä»–çµåˆéƒ½é‚„æ˜¯è‡ªå·±<br>2çš„æ„æ€æ˜¯ a op (b op c) = (a op b) op cï¼Œè¡¨ç¤ºæ‹¬è™Ÿä¸å½±éŸ¿çµæœ</p>
<p>ç”¨ä½ çš„æƒ³åƒåŠ›ï¼ŒStringæ˜¯ä¸æ˜¯å°±æ˜¯ä¸€å€‹æœ€æ˜é¡¯çš„ä¾‹å­ï¼Œå–®ä½å…ƒæ˜¯ç©ºå­—ä¸²(â€œâ€)ï¼Œå…¶ä»–å­—ä¸²æ€éº¼è·Ÿä»–å‰å¾Œçµåˆéƒ½ä¸æœƒå½±éŸ¿çµæœï¼Œé‚£äºŒå…ƒoperatorè‡ªç„¶è€Œç„¶å°±æ˜¯å­—ä¸²ä¸²æ¥äº†(++)ï¼Œä¸‹é¢ç”¨Stringèˆ‰ä¾‹</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="string">""</span> ++ <span class="string">"ABC"</span> ++ <span class="string">""</span></div><div class="line"><span class="string">"ABC"</span></div><div class="line"></div><div class="line">&gt; (<span class="string">"HELLO"</span> ++ <span class="string">"ABC"</span>) ++ <span class="string">"!"</span> == <span class="string">"HELLO"</span> ++ (<span class="string">"ABC"</span> ++ <span class="string">"!"</span>)</div><div class="line"><span class="type">True</span></div></pre></td></tr></table></figure>
<p>æ‰€ä»¥Stringé‚„æœ‰haskellè£¡é¢ä¸€äº›ä»£è¡¨æˆ–æ˜¯è™•ç†å­—ä¸²çš„typeåŸºæœ¬ä¸Šä¸€å®šéƒ½æ˜¯Monoidï¼Œç•¶ç„¶æ›´å»£ç¾©çš„ä¾†çœ‹[]éƒ½æ˜¯monoidï¼Œæœ‰ç©ºçš„arrayè·Ÿarrayçš„ä¸²æ¥çš„è©±å°±æ˜¯monoid</p>
<h1 id="list-monoid"><a href="#list-monoid" class="headerlink" title="list monoid ([])"></a>list monoid ([])</h1><p>çœ‹ä¸€ä¸‹ [] çš„å¯¦ä½œ</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Semigroup</span> a =&gt; <span class="type">Monoid</span> a <span class="keyword">where</span></span></div><div class="line">    <span class="comment">-- | Identity of 'mappend'</span></div><div class="line">    mempty  :: a</div><div class="line"></div><div class="line">    <span class="comment">-- | An associative operation</span></div><div class="line">    <span class="comment">--</span></div><div class="line">    <span class="comment">-- __NOTE__: This method is redundant and has the default</span></div><div class="line">    <span class="comment">-- implementation @'mappend' = '(&lt;&gt;)'@ since /base-4.11.0.0/.</span></div><div class="line">    mappend :: a -&gt; a -&gt; a</div><div class="line">    mappend = (&lt;&gt;)</div><div class="line">    <span class="meta">&#123;-# INLINE mappend #-&#125;</span></div><div class="line"></div><div class="line">    <span class="comment">-- | Fold a list using the monoid.</span></div><div class="line">    <span class="comment">--</span></div><div class="line">    <span class="comment">-- For most types, the default definition for 'mconcat' will be</span></div><div class="line">    <span class="comment">-- used, but the function is included in the class definition so</span></div><div class="line">    <span class="comment">-- that an optimized version can be provided for specific types.</span></div><div class="line">    mconcat :: [a] -&gt; a</div><div class="line">    mconcat = foldr mappend mempty</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Semigroup</span> [a] <span class="keyword">where</span></span></div><div class="line">    (&lt;&gt;) = (++)</div><div class="line">    <span class="meta">&#123;-# INLINE (&lt;&gt;) #-&#125;</span></div><div class="line"></div><div class="line">    stimes = stimesList</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monoid</span> [a] <span class="keyword">where</span></span></div><div class="line">    <span class="meta">&#123;-# INLINE mempty #-&#125;</span></div><div class="line">    mempty  = []</div><div class="line">    <span class="meta">&#123;-# INLINE mconcat #-&#125;</span></div><div class="line">    mconcat xss = [x | xs &lt;- xss, x &lt;- xs]</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ° Monoid å› ç‚ºæœ‰ superclass Semigroup å®šç¾©äº† mappend = (&lt;&gt;)<br>æ‰€ä»¥ä»–è£¡é¢å°±ä¸ç”¨é‡è¤‡å¯¦ä½œï¼Œç›´æ¥ç”¨ Semigroup çš„ mappend<br>å› æ­¤å¯ä»¥ç™¼ç¾ mempty  = [] (å–®ä½å…ƒ), mappend  = (++) = (&lt;&gt;)</p>
<p>ç”¨monoidæ–¹å¼çš„æŠ½è±¡ä¾†æ“ä½œçœ‹çœ‹</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">import</span> Data.Monoid</div><div class="line">&gt; <span class="string">""</span> &lt;&gt; <span class="string">"ABC"</span></div><div class="line"><span class="string">"ABC"</span></div></pre></td></tr></table></figure>
<h1 id="Sum-monoid-è·Ÿ-Product-monoid"><a href="#Sum-monoid-è·Ÿ-Product-monoid" class="headerlink" title="Sum monoid è·Ÿ Product monoid"></a>Sum monoid è·Ÿ Product monoid</h1><p>æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ° monoid å®šç¾©çš„æ™‚å€™<br>æˆ‘å°±æƒ³åˆ°äº†ï¼Œæ•¸å­—ä¹Ÿæ˜¯é€™æ¨£<br>ä¾‹å¦‚</p>
<ol>
<li><p>åŠ æ³•çš„æ™‚å€™<br>å–®ä½å…ƒæ˜¯ 0<br>äºŒå…ƒçš„operator æ˜¯ (+)</p>
<p>ä»»ä½•æ•¸åŠ ä¸Š0éƒ½æ²’å·®,è€Œä¸”æ‹¬è™Ÿä¸å½±éŸ¿ (1+2)+3 == 1+(2+3)</p>
</li>
<li><p>ä¹˜æ³•çš„æ™‚å€™<br>å–®ä½å…ƒæ˜¯ 1<br>äºŒå…ƒçš„operator æ˜¯ (*)</p>
<p>ä»»ä½•æ•¸ä¹˜ä¸Š1éƒ½æ²’å·®,è€Œä¸”æ‹¬è™Ÿä¸å½±éŸ¿ (1*2)*3 == 1*(2*3)</p>
</li>
</ol>
<p>ä¸éå› ç‚ºå–®ä½å…ƒä¸åŒï¼Œè€Œä¸” instance åªèƒ½æœ‰ä¸€ç¨®å¯¦ä½œ<br>æ‰€ä»¥ Haskell å‰µé€ äº† Sum è·Ÿ Product é€™å…©å€‹ newtype ä¾†ä»£è¡¨æˆ‘å‰›å‰›èªªçš„</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- Sum Monoid</span></div><div class="line"><span class="class"><span class="keyword">newtype</span> <span class="type">Sum</span> a = <span class="type">Sum</span> &#123; <span class="title">getSum</span> :: <span class="title">a</span> &#125;</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> a =&gt; <span class="type">Semigroup</span> (<span class="type">Sum</span> <span class="title">a</span>) <span class="keyword">where</span></span></div><div class="line">    (&lt;&gt;) = coerce ((+) :: a -&gt; a -&gt; a)</div><div class="line">    stimes n (<span class="type">Sum</span> a) = <span class="type">Sum</span> (fromIntegral n * a)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> a =&gt; <span class="type">Monoid</span> (<span class="type">Sum</span> <span class="title">a</span>) <span class="keyword">where</span></span></div><div class="line">    mempty = <span class="type">Sum</span> <span class="number">0</span></div><div class="line"></div><div class="line"><span class="comment">-- Product Monoid</span></div><div class="line"><span class="class"><span class="keyword">newtype</span> <span class="type">Product</span> a = <span class="type">Product</span> &#123; <span class="title">getProduct</span> :: <span class="title">a</span> &#125;</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> a =&gt; <span class="type">Semigroup</span> (<span class="type">Product</span> <span class="title">a</span>) <span class="keyword">where</span></span></div><div class="line">    (&lt;&gt;) = coerce ((*) :: a -&gt; a -&gt; a)</div><div class="line">    stimes n (<span class="type">Product</span> a) = <span class="type">Product</span> (a ^ n)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> a =&gt; <span class="type">Monoid</span> (<span class="type">Product</span> <span class="title">a</span>) <span class="keyword">where</span></span></div><div class="line">    mempty = <span class="type">Product</span> <span class="number">1</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä¸€é–‹å§‹æœƒè¦ºå¾—èªªç‚ºä½•æœƒéœ€è¦é€™äº›æ±è¥¿<br>ä½†å…¶å¯¦ Haskell å°±æ˜¯ä¸æ–·åˆ©ç”¨æ•¸å­¸ä¸€äº›æŠ½è±¡çš„æŠ€å·§ä¾†å±¤å±¤ç–Šç–Š<br>ä¾†å¹«åŠ©å¤§å®¶å»å„ªåŒ–æœ€ä½³åŒ–ï¼Œè€Œä¸æ˜¯æ¯å€‹dataéƒ½æœ‰è‡ªå·±ç¨ç‰¹å¯¦éš›å¯¦ä½œå¾ˆé•·çš„api</p>
<p>ä¾‹å¦‚ String, [], Sum, Product çš„é€™ç¨®monoidç‰¹æ€§<br>ä¸å°±éš±å«äº†ä¸€ä»¶å¸¸è¦‹çš„äº‹æƒ…ï¼Œé€™äº›äº‹æƒ…æ˜¯å¯ä»¥åˆ†é–‹å»åšçš„ï¼Œè€Œä¸”ä¸æœƒå½±éŸ¿çµæœ<br>æ‰€ä»¥æˆ‘å€‘ä¹Ÿå¯ä»¥ä½œä¸€å€‹åˆ†æ•£å¼çš„function<br>ä¾‹å¦‚ getData(xxx) &lt;&gt; getData(yyy) &lt;&gt; getData(zzz)<br>å¯ä»¥è®“é€™ä¸‰å€‹functionç”±ä¸åŒcpuå»è·‘ï¼Œåæ­£åŸ·è¡Œé †åºæ ¹æœ¬æ²’å·®<br>è€Œé€™å€‹ typeclass æ­£æ˜¯æŠŠé€™ç¨®ç‰¹æ€§çµ¦æŠ½è±¡å‡ºä¾†</p>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ol>
<li>haskell wiki</li>
<li>learn you a haskell</li>
<li><a href="https://www.zhihu.com/question/25406710" target="_blank" rel="external">çŸ¥ä¹ï¼šç‚ºä½•éœ€è¦monoid</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/28/monad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/monad/" itemprop="url">Monad</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/tancc/" itemprop="url" rel="index">
              <span itemprop="name">tancc</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-28T17:39:04+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>Monad</code>å°å·¥ç¨‹å¸«è€Œè¨€ï¼Œå¦‚æœæ²’ç‰½æ‰¯åˆ°æ•¸å­¸ç›¸é—œçš„ç¯„ç–‡å…¶å¯¦ä¸æ˜¯é‚£éº¼å¯æ€•é›£æ‡‚çš„æ±è¥¿ã€‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">fmap</span> :: (a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure>
<p><code>Functor</code>å¯¦ä½œäº†<code>fmap</code>ï¼Œä½¿å¾—å¯å°‡æ™®é€šå‡½æ•¸<code>(a -&gt; b)</code>liftåˆ°<code>f a -&gt; f b</code>ï¼›</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(&lt;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure>
<p><code>Applicative</code>å¯¦ä½œäº†<code>&lt;*&gt;</code>ï¼Œè®“æˆ‘å€‘å¯ä»¥å°‡ä¿è£¹åœ¨æŸ structure ä¸­çš„å‡½æ•¸<code>f (a -&gt; b)</code>ï¼Œapply åˆ°åŒæ¨£å«æœ‰ç›¸åŒçµæ§‹çš„æ•¸å€¼ä¸­<code>f a -&gt; f b</code></p>
<p>ä»–å€‘åšçš„äº‹æƒ…å…¶å¯¦éƒ½æ˜¯ function applicationï¼Œåªæ˜¯æ‡‰ç”¨çš„æƒ…å¢ƒä¸åŒè€Œå·²ã€‚è€Œå¾å·¥ç¨‹é¢ä¾†çœ‹ï¼ŒMonad å…¶å¯¦ä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œä¹Ÿç‚ºæˆ‘å€‘åšäº†æŸæƒ…å¢ƒä¸‹çš„å‡½æ•¸èª¿ç”¨çš„æŠ½è±¡ã€‚</p>
<hr>
<h1 id="Monad-TypeClass"><a href="#Monad-TypeClass" class="headerlink" title="Monad TypeClass"></a>Monad TypeClass</h1><p>Monad typeClass çš„éƒ¨åˆ†å®šç¾©å¦‚ä¸‹<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Applicative</span> m =&gt; <span class="type">Monad</span> m <span class="keyword">where</span></span></div><div class="line">    <span class="meta">&#123;-# MINIMAL (&gt;&gt;=) #-&#125;</span></div><div class="line">    return :: a -&gt; m a</div><div class="line">    return = pure</div><div class="line">    (&gt;&gt;=)  :: m a -&gt; (a -&gt; m b) -&gt; m b</div><div class="line">    join   :: m m a -&gt; m a</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­å¯ä»¥çœ‹åˆ° Monad å¿…é ˆæ˜¯ Applicativeï¼Œæ‰€ä»¥<code>return</code>çš„é è¨­å®šç¾©å°±æ˜¯<code>pure</code>ï¼Œå°‡ä¸€å€‹æ•¸å€¼åŒ…é€² monadic structure <code>m</code>ã€‚</p>
<p><code>&gt;&gt;=</code>(bind)ï¼Œæ˜¯ä½¿ç”¨monadé€²è¡Œæ“ä½œæ™‚ååˆ†å¸¸çœ‹åˆ°çš„æ±è¥¿ã€‚<br>å¾ä»–çš„ type signature ä¸é›£ç™¼ç¾ï¼Œä»–è¦åšçš„äº‹ä¹Ÿæ˜¯ function applicationï¼Œåªæ˜¯é€™æ¬¡è¦æ‡‰ç”¨çš„å‡½æ•¸æ˜¯<code>(a -&gt; m b)</code>ï¼Œè€Œé€™å‡½æ•¸æœƒæ‰€ return çš„å€¼æ˜¯å°‡ input åŒ…ä¸Šä¸€å€‹é¡å¤–çš„çµæ§‹<code>m</code>ï¼Œè€Œæœ€çµ‚<code>&gt;&gt;=</code>æ‰€è¿”å›å€¼<code>m b</code>æœƒè·Ÿè¼¸å…¥<code>m a</code>æ˜¯å…·æœ‰ç›¸åŒçµæ§‹çš„ã€‚</p>
<hr>
<h1 id="Monad-laws"><a href="#Monad-laws" class="headerlink" title="Monad laws"></a>Monad laws</h1><p>å¦‚åŒ<code>Applicative Functor</code>ï¼Œå°±ç®—ä¸€å€‹å‹åˆ¥å¯¦ä½œäº†<code>&gt;&gt;=</code>æˆç‚ºäº† Monad çš„instanceäº†ï¼Œä¹Ÿé‚„ä¸èƒ½å¤ èªªæ˜¯ä¸€å€‹<code>Monad</code>ã€‚</p>
<p>å¿…é ˆé‚„è¦åœ¨æ»¿è¶³ä¸‰å€‹ Monad laws<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 1. right identity</span></div><div class="line"><span class="title">m</span> &gt;&gt;= return    = m</div><div class="line"><span class="comment">-- 2. left identity</span></div><div class="line"><span class="title">return</span> x &gt;&gt;= f  = f x</div><div class="line"><span class="comment">-- 3. associativity</span></div><div class="line">(m &gt;&gt;= f) &gt;&gt;= g = m &gt;&gt;= (\x -&gt; f x &gt;&gt;= g)</div></pre></td></tr></table></figure></p>
<p>é€™éƒ¨åˆ†å¯ä»¥è‡ªè¡Œæ‹¿ä¸€äº›å·²çŸ¥çš„Monadå»é©—è­‰(List, Maybe, Either Monad)ï¼Œè€Œé€™åœ¨è‡ªè¡Œå®šç¾© Monad æ™‚ä¹Ÿæ˜¯è¦è‡ªå·±å»ç¢ºä¿æ»¿è¶³çš„ï¼ŒHaskell compiler ä¸¦ä¸æœƒè·Ÿä½ èªªç¬¦ä¸ç¬¦åˆã€‚</p>
<hr>
<h1 id="Maybe-Monad"><a href="#Maybe-Monad" class="headerlink" title="Maybe Monad"></a>Maybe Monad</h1><p>ç•¶åœ¨åšé™¤æ³•é‹ç®—çš„æ™‚å€™ï¼Œæœƒä¸å¸Œæœ›é™¤æ•¸ç‚º 0ï¼Œå¦å‰‡å¾ŒçºŒé‹ç®—å¯èƒ½æœƒå‡ºç¾éé æœŸçš„çµæœï¼Œå› æ­¤å®šç¾©äº†ä¸€å€‹<code>safeDivide</code><br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="title">safeDivide</span> :: <span class="type">Double</span> -&gt; <span class="type">Double</span> -&gt; <span class="type">Maybe</span> <span class="type">Double</span></div><div class="line"><span class="title">safeDivide</span> _ <span class="number">0</span> = <span class="type">Nothing</span></div><div class="line"><span class="title">safeDivide</span> a b = <span class="type">Just</span> (a / b)</div></pre></td></tr></table></figure></p>
<p><code>safeDivide</code>æœƒå›å‚³<code>Maybe Double</code>ï¼Œé€™æ¨£å­çš„è©±åšå…¶ä»–çš„é‹ç®—æˆ–è€…èªªåœ¨åšå‡½æ•¸çµ„åˆæ™‚ï¼Œå…¶ä»–å‡½æ•¸ input å‹åˆ¥éƒ½ä¹Ÿè¦æ”¹æˆ<code>Maybe</code>å‹åˆ¥ï¼Œæ‰å¯ä»¥æ‹¿å…¶çµæœä½œç‚ºè¼¸å…¥ä¾†ä½¿ç”¨ã€‚<br>æ‰€ä»¥åœ¨å…¶ä»–å‡½æ•¸å…§éƒ¨ï¼Œéƒ½éœ€æ ¹æ“š Maybe çš„å…©ç¨®å¯èƒ½æ€§<code>Just a</code>èˆ‡<code>Nothing</code>åšä¸åŒçš„é‹ç®—ã€‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="title">maybeFunc1</span> ::<span class="type">Num</span> a =&gt; <span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> a</div><div class="line"><span class="title">maybeFunc1</span> n =</div><div class="line">  <span class="keyword">case</span> <span class="keyword">of</span> n <span class="keyword">of</span></div><div class="line">    <span class="type">Nothing</span> -&gt; <span class="type">Nothing</span></div><div class="line">    <span class="type">Just</span> a -&gt; ...</div></pre></td></tr></table></figure>
<p>å¯ä»¥æƒ³åƒï¼Œæ¯å€‹ maybeFunc éƒ½è¦å»åšé€™äº›åˆ¤æ–·æ˜¯æœƒéå¸¸éº»ç…©ï¼Œè¦å¯«å¾ˆå¤šé‡è¤‡çš„ç¨‹å¼ç¢¼ã€‚</p>
<p>Maybe Monad å°±å¯ä»¥å¹«æˆ‘å€‘å°‡åˆ¤æ–·é€™äº›<code>case ... of</code>çš„å·¥ä½œæŠ½è±¡å‡ºä¾†</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> <span class="type">Maybe</span> <span class="keyword">where</span></span></div><div class="line">  return = pure</div><div class="line">  <span class="comment">-- &gt;&gt;= ::  Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b</span></div><div class="line">  (<span class="type">Just</span> x) &gt;&gt;= k = k x</div><div class="line">  <span class="type">Nothing</span>  &gt;&gt;= _ = <span class="type">Nothing</span></div></pre></td></tr></table></figure>
<p>å…¶<code>&gt;&gt;=</code>çš„å®šç¾©ï¼Œå¹«æˆ‘å€‘åšæ‰åˆ¤æ–·<code>Nothing</code>è·Ÿ<code>Just</code>ç„¶å¾Œåšä¸åŒä»»å‹™çš„å·¥ä½œã€‚<br>ç•¶æ˜¯ Nothing æ™‚ï¼Œå°±ä¸ç†æœƒå¾ŒçºŒçš„å‡½æ•¸<code>k</code>ï¼Œç›´æ¥è¿”å› Nothingã€‚<br>è‹¥æ˜¯ Just æ™‚ï¼Œå‰‡å°‡å…¶ä¸­çš„å€¼<code>a</code>ï¼Œå‚³é€²å¾ŒçºŒè¦åŸ·è¡Œçš„å‡½æ•¸<code>k</code>ä¸­ã€‚</p>
<p>ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œä»¥<code>Maybe</code>è€Œè¨€ï¼Œä½¿ç”¨<code>&gt;&gt;=</code>æˆ‘å€‘å°±å¯ä»¥ä¸æ–·ä¸²æ¥æœ‰é€™ç¨®<code>a -&gt; Maybe b</code>å‹åˆ¥çš„å‡½å¼ï¼Œå› ç‚º<code>(Just x) &gt;&gt;= k</code>å›å‚³çš„ä¹Ÿé‚„æ˜¯<code>Maybe</code>å‹åˆ¥çš„æ•¸å€¼ï¼Œå¯ä»¥ç¹¼çºŒç”¨<code>&gt;&gt;=</code>ä¸²æ¥ä¸‹ä¸€æ­¥çš„é‹ç®—ã€‚</p>
<p>äº‹å¯¦ä¸Šå°±æ˜¯ï¼Œå¦‚æœæˆ‘å€‘æœ‰ä¸€ç³»åˆ—çš„å‡½æ•¸<code>a -&gt; m b</code>ï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”±<code>&gt;&gt;=</code>å°‡é€™äº›ç›¸ä¾çš„é‹ç®—åšåºåˆ—çµ„åˆã€‚</p>
<p>æ‰€ä»¥åŸæœ¬çš„å‡½æ•¸çµ„åˆå°±å¾ˆå®¹æ˜“å¯ä»¥é€™æ¨£å¯«<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="title">safeDivide</span> &gt;&gt;= maybeFunc1 &gt;&gt;= maybeFunc2...</div><div class="line"></div><div class="line"><span class="comment">--  (safeDivide 10 0) &gt;&gt;=...</span></div><div class="line"><span class="comment">-- = Nothing &gt;&gt;= ...</span></div><div class="line"><span class="comment">-- = Nothing</span></div></pre></td></tr></table></figure></p>
<p>åŒæ¨£é¡ä¼¼çš„è¡Œç‚ºï¼Œå¦‚<code>Either Monad</code> ä¹Ÿèƒ½å¹«åŠ©æˆ‘å€‘çœä¸‹åˆ¤æ–·<code>Left</code>å’Œ<code>Right</code>çš„<a href="https://hackage.haskell.org/package/base-4.10.1.0/docs/src/Data.Either.html#line-141" target="_blank" rel="external">ç¨‹å¼ç¢¼</a></p>
<hr>
<h1 id="List-Monad"><a href="#List-Monad" class="headerlink" title="List Monad"></a>List Monad</h1><p>é¦–å…ˆçœ‹ä¸€ä¸‹å¦‚ä½•å®šç¾© List Monad å…§å®¹<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> [] <span class="keyword">where</span></span></div><div class="line">  return = pure</div><div class="line">  <span class="comment">-- &gt;&gt;= :: [a] -&gt; (a -&gt; [b]) -&gt; [b]</span></div><div class="line">  m  &gt;&gt;= f  =  concat (map f m)</div></pre></td></tr></table></figure></p>
<p><code>return</code>å’Œå…¶åœ¨<code>Applicative</code>ä¸­<a href="https://hackage.haskell.org/package/base-4.10.1.0/docs/src/GHC.Base.html#line-807" target="_blank" rel="external">å®šç¾©</a>çš„<code>pure</code>ä¸€æ¨£ï¼Œå°±æ˜¯æŠŠå€¼ä¸Ÿé€²ä¸€å€‹ List ä¸­ã€‚<br><code>&gt;&gt;=</code> çš„è¡Œç‚ºæ˜¯å°‡<code>f</code> map åˆ° List ä¸­ï¼Œç„¶å¾Œconcatæœ€çµ‚çµæœã€‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="title">a</span> = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>]</div><div class="line"></div><div class="line"><span class="title">f</span> :: a -&gt; [a]</div><div class="line"><span class="title">f</span> = \x -&gt; [x, x]</div><div class="line"></div><div class="line"><span class="title">a</span> &gt;&gt;= f</div><div class="line">= [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>] &gt;&gt;= \x -&gt; [x, x]</div><div class="line">= concat (map (\x -&gt; [x, x]) [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>])</div><div class="line">= concat [[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">3</span>],[<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">7</span>]]</div><div class="line">= [<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>]</div></pre></td></tr></table></figure>
<p>å…¶å¯¦ä¸Šé¢ List Monad çš„bind<code>&gt;&gt;=</code>æ‰€åšçš„äº‹æƒ…ï¼Œå¯ä»¥ç”¨List comprehensioné”åˆ°ã€‚<br>è€Œå¯¦éš›ä¸Šï¼Œ<a href="https://hackage.haskell.org/package/base-4.10.1.0/docs/src/GHC.Base.html#line-820" target="_blank" rel="external">åŸå§‹ç¢¼</a>ä¸­ï¼ŒList Monad çš„<code>&gt;&gt;=</code>å°±æ˜¯ç”¨ List comprehensions å¯¦ä½œçš„ã€‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> []  <span class="keyword">where</span></span></div><div class="line">  xs &gt;&gt;= f = [y | x &lt;- xs, y &lt;- f x]</div><div class="line"></div><div class="line"><span class="title">a</span> &gt;&gt;= f</div><div class="line">= [y | x &lt;- [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>], y &lt;- (\x -&gt; [x, x]) x]</div><div class="line">= [<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>]</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥å¾List Monadä¾†çœ‹ï¼Œå› ç‚ºå…©è€…è¡Œç‚ºçš„ç­‰åƒ¹ï¼Œä¹Ÿæ¯”è¼ƒèƒ½æ˜ç™½ç‚ºä½•æœ‰äººæœƒèªª Monad åšçš„äº‹æƒ…ï¼Œå…¶å¯¦å°±æ˜¯ flatmap æˆ– concatmapã€‚</p>
<hr>
<h1 id="Do-notation"><a href="#Do-notation" class="headerlink" title="Do notation"></a>Do notation</h1><p>å¦‚æœåªç”¨<code>&gt;&gt;=</code>çš„è©±æœ‰å¯èƒ½æœƒç™¼ç”Ÿç¨‹å¼ç¢¼å·¢ç‹€çµæ§‹å¤ªæ·±çš„å•é¡Œ<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="title">f</span> &gt;&gt;= \a -&gt;</div><div class="line">   (g a) &gt;&gt;= \b -&gt;</div><div class="line">     (h b) &gt;&gt;= \c -&gt;</div><div class="line">       return (a, b, c)</div></pre></td></tr></table></figure></p>
<p>é€™æ™‚å€™å¯ä»¥ä½¿ç”¨do notationé€™å€‹èªæ³•ç³–ï¼Œä¾†å¹«åŠ©ç”¨imperative programmingçš„å½¢å¼ç”±ä¸Šè‡³ä¸‹æ’°å¯«ä»£ç¢¼ï¼Œå¢åŠ å¯è®€æ€§<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="title">do</span></div><div class="line">  a &lt;- f</div><div class="line">  b &lt;- g a</div><div class="line">  c &lt;- h b</div><div class="line">  return (a, b, c)</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Type-signature"><a href="#Type-signature" class="headerlink" title="Type signature"></a>Type signature</h1><p>é€™æ®µå¸Œæœ›èƒ½å¾type signatureä¾†å¾—åˆ°ä¸€äº›æ“ä½œä¸Šçš„ç›´è¦º</p>
<h2 id="Function-Application"><a href="#Function-Application" class="headerlink" title="Function Application"></a>Function Application</h2><p>å¾ TypeClass çŸ¥é“ï¼Œè‹¥ä¸€å€‹æ±è¥¿æ˜¯ Monadï¼Œé‚£ä»–å¿…ç„¶æ˜¯ Applicative äº¦å³ä¹Ÿå¿…ç„¶æ˜¯ Functorã€‚</p>
<p>æ‰€ä»¥Functorã€Applicativeã€Monadåœ¨æ‡‰ç”¨çš„è¡Œç‚ºä¸Šè‚¯å®šæœ‰ä¸€å®šç¨‹åº¦çš„ä¸€è‡´æ€§ã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;$&gt;        ::   (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line">&lt;*&gt;        :: f (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line"><span class="comment">-- å°‡ &gt;&gt;= åšflip</span></div><div class="line"><span class="comment">-- (&gt;&gt;=)  :: m a -&gt; (a -&gt; m b) -&gt; m b</span></div><div class="line"><span class="title">flip</span> . &gt;&gt;= :: (a -&gt; m b) -&gt; m a -&gt; m b</div></pre></td></tr></table></figure></p>
<p>ä¸‰è€…å¾ type signature ä¾†æ¯”è¼ƒï¼Œæ›´æœ‰ä¸€é–‹å§‹æ‰€èªªçš„ï¼Œéƒ½æ˜¯å°‡ function application åšä¸åŒæ‡‰ç”¨æƒ…å¢ƒçš„æŠ½è±¡ã€‚</p>
<h2 id="Dependent-computation"><a href="#Dependent-computation" class="headerlink" title="Dependent computation"></a>Dependent computation</h2><p>åŒæ¨£å¾<code>&gt;&gt;=</code>çš„å‹åˆ¥å»çœ‹<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(&gt;&gt;=)  :: m a -&gt; (a -&gt; m b) -&gt; m b</div></pre></td></tr></table></figure></p>
<p><code>&gt;&gt;=</code>æ¥å—äº†<code>m a</code>ï¼Œè€Œç¬¬äºŒå€‹åƒæ•¸æ˜¯å€‹å‡½æ•¸<code>(a -&gt; m b)</code>ï¼Œå…¶ä¸­çš„<code>a</code>å¾å“ªä¾†ï¼Œå°±æ˜¯å¾<code>m a</code>çš„é‹ç®—çµæœè€Œä¾†ã€‚</p>
<p>å› æ­¤<code>&gt;&gt;=</code>æ‰€åšçš„äº‹æƒ…ï¼Œå°±æ˜¯å°‡ä¸€å€‹ monadic structure æ‰€åŒ…è£¹çš„ computation <code>m a</code>ï¼Œå‚³éåˆ°ä¸²æ¥çš„å‡½æ•¸ä¸­ <code>(a -&gt; m b)</code>ï¼Œè®“æ­¤å‡½æ•¸æ ¹æ“šå‚³éé€²ä¾†çš„åƒæ•¸å»åšæŸäº›é‹ç®—ï¼Œæœ€å¾Œå†è¿”å›<code>m b</code>ã€‚è€Œæ­¤<code>m b</code>åˆå¯æ­é…å…¶ä»– monadic function <code>(a -&gt; m b)</code>ï¼Œç¹¼çºŒæ ¹æ“šå‡½æ•¸è¿”å›å€¼æ“ä½œä¸‹å»ã€‚</p>
<p>è€Œé€™ç¨®ç›¸ä¾é—œä¿‚ä¹Ÿæ˜¯ Monad è¼ƒéˆæ´»çš„åŸå› ä¹‹ä¸€ï¼Œå› ç‚ºå®ƒå¯ä»¥æ ¹æ“šå‡½æ•¸è¿”å›çš„å€¼å†å»å¾ŒçºŒçš„é‹ç®—ã€‚è€Œé€™æ˜¯ Applicative ç„¡æ³•åšåˆ°çš„ï¼Œ<code>&lt;*&gt;</code>æ‰€ä¸²æ¥çš„å‡½æ•¸å½¼æ­¤æ˜¯ä¸ç›¸ä¾çš„ã€‚</p>
<h2 id="General-concatenation"><a href="#General-concatenation" class="headerlink" title="General concatenation"></a>General concatenation</h2><p>å¦‚æœéƒ½æ˜¯å» lift æ™®é€šå‡½æ•¸ä¸¦ä¸” apply åˆ°æœ‰é¡å¤–çµæ§‹çš„å€¼ä¸­ï¼Œå¦‚<code>f a</code>, <code>m a</code>ï¼Œé‚£éº¼ç”¨ fmap å°±è¡Œäº†ã€‚<br>ä½†å¦‚æœé€™å€‹å‡½æ•¸<code>a -&gt; m b</code>ï¼Œæ˜¯è¿”å›ä¸€å€‹æœ‰ monadic structure çš„å€¼æ™‚ï¼Œä½¿ç”¨fmapæœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å‘¢ï¼Ÿ<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- å°‡ f ç”¨ m ä¾†è¡¨ç¤º</span></div><div class="line">&lt;$&gt; :: (a -&gt; b) -&gt; m a -&gt; m b</div><div class="line"><span class="comment">-- å°‡ b ä»£æ›æˆ m b</span></div><div class="line">&lt;$&gt; :: (a -&gt; m b) -&gt; m a -&gt; m (m b)</div><div class="line"></div><div class="line"><span class="comment">-- ex</span></div><div class="line"><span class="title">fmap</span> (\x -&gt; [x]) [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div><div class="line">= [[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]]</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°æœ€çµ‚è¿”å›çš„çµæœæ˜¯<code>m (m b)</code>ï¼Œä½†æˆ‘å€‘ä¸¦ä¸æƒ³è¦æœ‰æ”¹è®ŠåŸæœ‰çš„æ¶æ§‹ï¼Œè®Šæˆå·¢ç‹€çš„çµæ§‹ï¼Œå¦‚å·¢ç‹€çš„ Listã€‚æ‰€ä»¥è¦æƒ³è¾¦æ³•å°‡ <code>m (m b)</code> è½‰æ›æˆ <code>m b</code>ï¼Œä¹Ÿå°±æ˜¯å» flattern æˆ–æ˜¯ concate é€™å€‹é›™å±¤çš„çµæ§‹ã€‚</p>
<p>è€Œé€™å°±æ˜¯ Monad çš„ä¸€å€‹ç‰¹è‰²æ‰€åœ¨ï¼Œ<code>join</code>ã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">join</span> :: <span class="type">Monadm</span> m =&gt; m (m a) -&gt; m a</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>join</code>æ‰€åšçš„äº‹æƒ…å°±æ˜¯å»concateé€™å…©å±¤<code>m m</code>ç‚ºä¸€å€‹<code>m</code>ã€‚å› æ­¤ä¹Ÿå¯ä»¥çœ‹å‡º Monad å…¶å¯¦æä¾›äº†æ›´ general çš„ concat æ–¹æ³•ã€‚</p>
<p>æ‰€ä»¥æˆ‘å€‘ç”¨<code>join</code>å’Œ<code>fmap</code>å…¶å¯¦å°±å¯ä»¥æ§‹é€ å‡º<code>&gt;&gt;=</code></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(&gt;&gt;=) : m a -&gt; (a -&gt; m b) -&gt; m b</div><div class="line"><span class="title">m</span> &gt;&gt;= f = join $ fmap f m</div></pre></td></tr></table></figure>
<p>å› æ­¤å¯ä»¥çœ‹å‡ºï¼Œå…¶å¯¦ Monad å°±æ˜¯æä¾›ä¸€å€‹æ–¹æ³•ï¼Œè®“æˆ‘å€‘å» map å‡½æ•¸ï¼Œæœ€å¾Œå†å°‡å…¶çµæœjoinèµ·ä¾†ã€‚</p>
<hr>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p><code>Monoid</code>, <code>Funtor</code>, <code>Applicative</code>, <code>Monad</code> â€¦ é€™äº› typeclassï¼Œéƒ½ä»£è¡¨è‘—æŸäº›è¡Œç‚ºçš„æŠ½è±¡ã€‚</p>
<p>æ‰€ä»¥é€™äº›æ±è¥¿çœŸçš„æœ‰å­˜åœ¨çš„å¿…è¦å—ï¼Ÿå€‹äººèªç‚ºå°±å·¥ç¨‹çš„è§’åº¦è€Œè¨€éƒ½æ²’æœ‰ã€‚<br>ä»Šå¤©å°±ç®—æŠŠåç¨±æ›æˆ<code>Apple</code>, <code>Orange</code>, <code>Banana</code>, <code>Pineapple</code>ä¹Ÿæ˜¯å¯ä»¥(ä¸¦ä¸”æ¯”è¼ƒä¸æœƒè®“äººç•æ‡¼ï¼Ÿ)ï¼Œå«ä»€éº¼åå­—éƒ½ä¸æ˜¯é‡é»ã€‚ä¸¦ä¸æ˜¯å› ç‚ºä»–æ˜¯<code>Monad</code>æˆ‘å€‘æ‰å¯ä»¥åšåˆ°ä»€éº¼ä»€éº¼ï¼Œä¸€æ¨£å¯ä»¥ç”¨å…¶ä»–æ–¹å¼ä¾†é”æˆä¸€æ¨£çš„ç›®çš„ã€‚<br>æˆ‘å€‘éœ€è¦æ˜¯ç¨‹å¼è¡Œç‚ºä¸Šçš„æŠ½è±¡æˆ–æ˜¯æœ¬è³ªä¸Šçš„æ”¹è®Šï¼Œä½¿å¾—ç¨‹å¼ç¢¼çš„é‡ç”¨æ€§å’Œè¡¨é”èƒ½åŠ›èƒ½å¤ æå‡ï¼Œè€Œé€™ä¹Ÿæ­£æ˜¯ functional programming language çš„å¼·é …ã€‚</p>
<p>è€Œå› ç‚ºé€™äº›è¢«æŠ½è±¡çš„è¡Œç‚ºç”¢ç”Ÿå‡ºä¾†çš„è¼ªå»“ (type signature)ï¼Œå¯ä»¥è·Ÿç¯„ç–‡è«– (category theory) å»çµåˆï¼Œæ‰€ä»¥æ‹¿ç¯„ç–‡è«–çš„å°ˆæœ‰åè©ä½œç‚º typeclass çš„åç¨±ï¼Œè¼ƒèƒ½å°‡æ•¸å­¸èˆ‡ç¨‹å¼çµåˆçš„æ„åœ–åæ‡‰å‡ºä¾†ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒå‹åˆ¥(Maybe, List, â€¦)ï¼Œåœ¨ä¸åŒ typeclass instance çš„å®šç¾©ä¸­ï¼Œå„˜ç®¡éƒ½æœ‰åš<code>fmap</code>,<code>&lt;*&gt;</code>, <code>&gt;&gt;=</code>ç­‰ç­‰çš„å‡½æ•¸å­˜åœ¨ï¼Œä½†ä»–å€‘æ‰€åšçš„äº‹æƒ…ã€é‚è¼¯æ˜¯ç¨ç«‹çš„ï¼Œä½†æœ€çµ‚ä»–å€‘æ‰€å…·æœ‰çš„çµæ§‹æ˜¯ä¸€è‡´çš„ã€‚</p>
<p>æˆ‘å€‘å…¶å¯¦ä¹Ÿå¯ä»¥å°‡å…¶å‘½åç‚º<code>listFmap</code>, <code>maybeFmap</code> â€¦ ç­‰ç­‰ï¼Œä½†å› ç‚ºçµ±ä¸€äº† interface å¤§å®¶çš„åç¨±ä¿æŒä¸€è‡´ï¼Œä¸¦ä¸”å…·æœ‰ç›¸åŒçš„çµæ§‹ï¼Œé€™å¸¶ä¾†çš„å¥½è™•å°±æ˜¯èƒ½å†æ›´è¿‘ä¸€æ­¥çš„å»é‡ç”¨é€™äº›ä»£ç¢¼ï¼Œå»ºæ§‹æ›´é«˜å±¤æ¬¡çš„æŠ½è±¡æ–¹æ³•ã€‚</p>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><p><a href="http://dev.stephendiehl.com/hask/" target="_blank" rel="external">What I Wish I Knew When Learning Haskell 2.3 ( Stephen Diehl )</a></p>
<p><a href="https://wiki.haskell.org/Monad" target="_blank" rel="external">Monad - HaskellWiki</a></p>
<p><a href="http://learnyouahaskell.com/" target="_blank" rel="external">Learn You a Haskell for Great Good!</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/27/haskell-typeclass/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/27/haskell-typeclass/" itemprop="url">Haskell ç³»åˆ— - typeclass (é¡å‹é¡)</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/jackypan1989/" itemprop="url" rel="index">
              <span itemprop="name">jackypan1989</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-27T18:26:55+08:00">
                2018-03-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Type-class-é¡å‹é¡"><a href="#Type-class-é¡å‹é¡" class="headerlink" title="Type class (é¡å‹é¡)"></a>Type class (é¡å‹é¡)</h1><p>é¦–å…ˆçœ‹ä¸€ä¸‹ (+) é€™å€‹ operator çš„ type</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; :t (+)</div><div class="line">(+) :: <span class="type">Num</span> a =&gt; a -&gt; a -&gt; a</div></pre></td></tr></table></figure>
<p>å¯ä»¥ç™¼ç¾é™¤äº†åŸæœ¬çš„ a -&gt; a -&gt; a ä¹‹å¤–<br>é‚„å¤šäº†ä¸€å€‹å¤§ç®­é ­, é€™è£¡çš„ Num a ä»£è¡¨å¾Œé¢é¡å‹ a ä¸€å®šæ˜¯ Num é€™å€‹ typeclass<br>æˆ‘å€‘åˆç¨±ç‚ºé¡å‹ç´„æŸ, å¦‚æœç”¨ oo è¬›æ³•ä¾†çœ‹, ä»–å°±åƒæ˜¯ interface<br>ä½ å¿…é ˆå¯¦ä½œä¸€äº› Num typeclass çš„ function æ‰èƒ½å±¬æ–¼ Num</p>
<p>åœ¨çœ‹ä¸€ä¸‹ Num çš„è©³ç´°è³‡è¨Š</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt; :i <span class="type">Num</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Num</span> a <span class="keyword">where</span></span></div><div class="line">  (+) :: a -&gt; a -&gt; a</div><div class="line">  (-) :: a -&gt; a -&gt; a</div><div class="line">  (*) :: a -&gt; a -&gt; a</div><div class="line">  negate :: a -&gt; a</div><div class="line">  abs :: a -&gt; a</div><div class="line">  signum :: a -&gt; a</div><div class="line">  fromInteger :: <span class="type">Integer</span> -&gt; a</div><div class="line">  <span class="meta">&#123;-# MINIMAL (+), (*), abs, signum, fromInteger, (negate | (-)) #-&#125;</span></div><div class="line">  <span class="comment">-- Defined in â€˜GHC.Numâ€™</span></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> <span class="type">Word</span> <span class="comment">-- Defined in â€˜GHC.Numâ€™</span></span></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> <span class="type">Integer</span> <span class="comment">-- Defined in â€˜GHC.Numâ€™</span></span></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> <span class="type">Int</span> <span class="comment">-- Defined in â€˜GHC.Numâ€™</span></span></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> <span class="type">Float</span> <span class="comment">-- Defined in â€˜GHC.Floatâ€™</span></span></div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Num</span> <span class="type">Double</span> <span class="comment">-- Defined in â€˜GHC.Floatâ€™</span></span></div></pre></td></tr></table></figure>
<p>é€™è£¡è¡¨ç¤º Num é€™å€‹ typeclass åº•ä¸‹å¿…é ˆ<br>å¯¦ä½œ (+), (*), abs, signum, fromInteger, (negate | (-)) ( | ä»£è¡¨è‡³å°‘ä¸€å€‹è¦ä½œ)<br>ç›®å‰æœ‰ Word, Integer, Int, Float, Double é€™å¹¾å€‹ type æ˜¯ Num çš„ instance</p>
<h1 id="å…¶ä»–å¸¸ç”¨çš„å…§å»º-typeclass"><a href="#å…¶ä»–å¸¸ç”¨çš„å…§å»º-typeclass" class="headerlink" title="å…¶ä»–å¸¸ç”¨çš„å…§å»º typeclass"></a>å…¶ä»–å¸¸ç”¨çš„å…§å»º typeclass</h1><h2 id="Show"><a href="#Show" class="headerlink" title="Show"></a>Show</h2><p>å°‡ å€¼æˆ–æ˜¯data è½‰ç‚ºString<br>ä¾‹å¦‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; :t show</div><div class="line"><span class="title">show</span> :: <span class="type">Show</span> a =&gt; a -&gt; <span class="type">String</span></div><div class="line"></div><div class="line">&gt; show <span class="number">1</span></div><div class="line"><span class="string">"1"</span></div></pre></td></tr></table></figure>
<h2 id="Read"><a href="#Read" class="headerlink" title="Read"></a>Read</h2><p>è·Ÿ show ç›¸å, å°‡Stringè½‰ç‚ºå°æ‡‰çš„å€¼æˆ–data<br>ä¾‹å¦‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; :t read</div><div class="line"><span class="title">read</span> :: <span class="type">Read</span> a =&gt; <span class="type">String</span> -&gt; a</div><div class="line"></div><div class="line">&gt; read <span class="string">"3"</span> :: <span class="type">Int</span> <span class="comment">-- é€™è£¡çµ¦compileæç¤º</span></div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure>
<h2 id="Ord"><a href="#Ord" class="headerlink" title="Ord"></a>Ord</h2><p>å¯¦åšäº† compare æˆ–æ˜¯æ¯”è¼ƒé‹ç®—å…ƒ<br>ä¾‹å¦‚</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; :t (&gt;)</div><div class="line">(&gt;) :: <span class="type">Ord</span> a =&gt; a -&gt; a -&gt; <span class="type">Bool</span></div><div class="line"></div><div class="line">&gt; (&gt;) <span class="number">3</span> <span class="number">4</span></div><div class="line"><span class="type">False</span></div><div class="line"></div><div class="line">&gt; compare <span class="number">3</span> <span class="number">4</span></div><div class="line"><span class="type">LT</span></div></pre></td></tr></table></figure>
<p>å…¶ä¸­ compare æœƒå›å‚³ Ordering é€™å€‹ type</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; :i <span class="type">Ordering</span></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Ordering</span> = <span class="type">LT</span> | <span class="type">EQ</span> | <span class="type">GT</span></span></div></pre></td></tr></table></figure>
<p>åˆ†åˆ¥ä»£è¡¨å°æ–¼, ç­‰æ–¼, è·Ÿå¤§æ–¼</p>
<h1 id="å¯¦ä½œ-instance-amp-è‡ªå‹•æ´¾ç”Ÿ-derive"><a href="#å¯¦ä½œ-instance-amp-è‡ªå‹•æ´¾ç”Ÿ-derive" class="headerlink" title="å¯¦ä½œ instance &amp; è‡ªå‹•æ´¾ç”Ÿ (derive)"></a>å¯¦ä½œ instance &amp; è‡ªå‹•æ´¾ç”Ÿ (derive)</h1><p>å¯¦ä½œ instance éƒ¨åˆ†ï¼Œèˆ‰å€‹ä¾‹å­</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="class"><span class="keyword">data</span> <span class="type">Grade</span> = <span class="type">A</span> | <span class="type">B</span> | <span class="type">C</span> | <span class="type">Fail</span></span></div><div class="line">&gt; show <span class="type">A</span></div><div class="line">&lt;interactive&gt;:<span class="number">32</span>:<span class="number">1</span>: error:</div><div class="line"></div><div class="line">&gt; :&#123;</div><div class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Show</span> <span class="type">Grade</span> <span class="keyword">where</span></span></div><div class="line">    show <span class="type">A</span> = <span class="string">"A"</span></div><div class="line">    show <span class="type">B</span> = <span class="string">"B"</span></div><div class="line">    show <span class="type">C</span> = <span class="string">"C"</span></div><div class="line">    show <span class="type">Fail</span> = <span class="string">"no grade!"</span></div><div class="line">:&#125;</div><div class="line"></div><div class="line">&gt; show <span class="type">A</span></div><div class="line"><span class="string">"A"</span></div><div class="line"></div><div class="line">&gt; show <span class="type">Fail</span></div><div class="line"><span class="string">"no grade!"</span></div></pre></td></tr></table></figure>
<p>å°æ–¼ä¸€äº›ç°¡å–®çš„é¡å‹ï¼Œhaskell compiler å¯ä»¥å°‡ä»–è‡ªå‹•æ´¾ç”Ÿçµ¦ä¸€äº› typeclass<br>åƒæ˜¯ Read, Show, Bounded, Enum, Eq, Ord éƒ½å¯ä»¥<br>ä»–å°±æœƒè‡ªå·±å»ç”¢ç”Ÿä¸€äº›è¡Œç‚º</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt; :&#123;</div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Grade</span> = <span class="type">A</span> | <span class="type">B</span> | <span class="type">C</span> | <span class="type">Fail</span></span></div><div class="line">    <span class="keyword">deriving</span> (<span class="type">Read</span>, <span class="type">Show</span>, <span class="type">Eq</span>, <span class="type">Ord</span>)</div><div class="line">:&#125;</div><div class="line"></div><div class="line">&gt; show <span class="type">A</span></div><div class="line"><span class="string">"A"</span></div><div class="line"></div><div class="line">&gt; show <span class="type">Fail</span></div><div class="line"><span class="string">"Fail"</span></div><div class="line"></div><div class="line">&gt; <span class="type">A</span> == <span class="type">C</span></div><div class="line"><span class="type">False</span></div><div class="line"></div><div class="line">&gt; compare <span class="type">A</span> <span class="type">B</span></div><div class="line"><span class="type">LT</span></div></pre></td></tr></table></figure>
<h1 id="newtype"><a href="#newtype" class="headerlink" title="newtype"></a>newtype</h1><p>ä¹‹å‰æåˆ° data é—œéµå­— å¯ç”¨ä¾†å®šç¾©ä¸€å€‹ type<br>ä½†ç¾åœ¨å¦‚æœåªæœ‰ä¸€å€‹ data constructor (æ²’æœ‰ xx | oo) åˆåªæœ‰ä¸€å€‹åƒæ•¸æ™‚<br>å°±å¯ä»¥ç”¨ newtype å–ä»£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">data MyType = MyType Int</div><div class="line">ç­‰æ–¼</div><div class="line">newtype MyType = MyType Int</div></pre></td></tr></table></figure>
<p>å·®åˆ¥åœ¨æ–¼ç·¨è­¯æœŸ MyType éƒ½æ˜¯ä¸€å€‹æ–°çš„ type ç·¨è­¯å™¨æœƒå¹«ä½ æª¢æŸ¥<br>ä½†å¯¦éš›ä¸ŠåŸ·è¡Œæ™‚ç”±æ–¼åªæœ‰ä¸€å€‹ data constructor ä¸” å”¯ä¸€åƒæ•¸<br>ä»–å°±ç›´æ¥æŠŠ è©²åƒæ•¸å‹æ…‹ Int ç•¶ä½œ MyType å‹æ…‹äº†, ä¹Ÿç•¶ç„¶çœå»äº† data constructor çš„è§£æ§‹</p>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ol>
<li>haskell wiki</li>
<li>learn you a haskell</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/27/haskell-with-module/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/27/haskell-with-module/" itemprop="url">åœ¨Haskellä½¿ç”¨Module</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/Tu-Szu-Chi/" itemprop="url" rel="index">
              <span itemprop="name">Tu-Szu-Chi</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-27T10:42:05+08:00">
                2018-03-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h1><p>å¤§éƒ¨åˆ†çš„å°ˆæ¡ˆæˆ‘å€‘éƒ½æœƒéœ€è¦å¼•å…¥å…¶ä»–ç¬¬ä¸‰æ–¹æˆ–æ˜¯è‡ªå·±å¯«çš„<code>Module</code>ã€<code>Package</code>ï¼Œç›®çš„å°±æ˜¯çˆ²äº†è®“è¨±å¤šå‡½æ•¸å¯ä»¥é‡è¤‡æ“ä½œ<br>è€Œæœ€åŸºæœ¬çš„ä¸€äº›æ“ä½œéƒ½æ˜¯åœ¨<code>Prelude</code>é€™æ¨¡çµ„è£¡ï¼Œé è¨­æœƒè‡ªå‹•è¼‰å…¥ï¼Œä¸‹<code>stack ghci</code>æŒ‡ä»¤å°±æœƒç™¼ç¾æœƒæ˜¯<code>Prelude&gt; ...</code>çš„prompt</p>
<h2 id="Data-List"><a href="#Data-List" class="headerlink" title="Data.List"></a>Data.List</h2><p><code>Data.List</code>è®“æˆ‘å€‘å¯ä»¥æ›´æ–¹ä¾¿çš„å°<strong>List</strong>åšè™•ç†ï¼Œ<strong>nub</strong>é€™Functionå¯ä»¥å¹«æˆ‘å€‘å¾Listå–å‡ºä¸é‡è¤‡çš„æ•¸å­—</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- Main.hs</span></div><div class="line"><span class="keyword">module</span> Main (<span class="title">main</span>) <span class="keyword">where</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> Data.List</div><div class="line"></div><div class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</div><div class="line"><span class="title">main</span> = print <span class="string">"Main"</span></div><div class="line"></div><div class="line"><span class="title">numUniques</span> :: (<span class="type">Eq</span> a) =&gt; [a] -&gt; <span class="type">Int</span></div><div class="line"><span class="title">numUniques</span> = length . nub</div></pre></td></tr></table></figure>
<p>åœ¨ghciä¸­<code>:l Main</code>å¾Œï¼Œå‘¼å«<code>numUniques [1,2,2,3]</code>å°±æœƒæ˜¯<strong>3</strong>äº†<br>ä½†åœ¨æ­¤å€‹äººå»ºè­°æŒ‡é‡å°è¦ç”¨åˆ°çš„Functionåšå¼•å…¥ï¼Œä¾‹å¦‚é€™é‚Šåªç”¨åˆ°<strong>nub</strong>é‚£æˆ‘å€‘å°±æ”¹å¯«ä¸€ä¸‹importéƒ¨åˆ†</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Data.List(<span class="title">nub</span>)</div></pre></td></tr></table></figure>
<h2 id="System-Random"><a href="#System-Random" class="headerlink" title="System.Random"></a>System.Random</h2><p>éƒ½èªªHakellæ˜¯ä¸€å€‹ç´”å‡½æ•¸èªè¨€ï¼Œé¤µçµ¦ä¸€å€‹å‡½æ•¸ç›¸åŒçš„åƒæ•¸ï¼Œä¸ç®¡æ€æ¨£éƒ½æœƒå›å‚³ç›¸åŒçš„çµæœï¼Œé‚£è¦æ€å¯¦ä½œã€Œéš¨æ©Ÿã€çš„ç‹€æ³å‘¢ï¼Ÿ<br>å°±æ˜¯åˆ©ç”¨é€™å€‹<code>System.Random</code> Moduleï¼Œè€Œè¦å¯¦åšéš¨æ©Ÿçš„å‡½æ•¸å°±å«åš<code>random</code></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">random</span> :: (<span class="type">RandomGen</span> g, <span class="type">Random</span> a) =&gt; g -&gt; (a, g)</div></pre></td></tr></table></figure>
<p>ä¾†åˆ†åˆ¥è¬›è§£å…©å€‹åƒæ•¸ï¼Œ<strong>RandomGen</strong> typeclassæ˜¯æŒ‡ä½œçˆ²<strong>äº‚æº</strong>çš„type(Genæ˜¯Generatorç¸®å¯«)<br><strong>Random</strong> typeclassæ˜¯æŒ‡å¯ä»¥è£<strong>äº‚æ•¸</strong>çš„type(åƒæ˜¯Int,Boolâ€¦)<br>é¦–å…ˆæˆ‘å€‘è¦ä¸€å€‹RandomGençš„å¯¦ä¾‹ï¼Œåœ¨<code>System.Random</code>è£¡çš„<strong>StdGen</strong>å°±æ˜¯äº†ï¼Œå‰›å¥½æœ‰å€‹<code>mkStdGen</code>å‡½æ•¸å¯ä»¥å¹«æˆ‘å€‘ç”¢ç”Ÿé€™å¯¦ä¾‹ï¼Œåªè¦å‚³çµ¦ä»–Intå³å¯</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">mkStdGen</span> :: <span class="type">Int</span> -&gt; <span class="type">StdGen</span></div></pre></td></tr></table></figure>
<p>è·‘è·‘çœ‹</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="title">random</span> (mkStdGen <span class="number">100</span>)</div><div class="line">&gt; (<span class="number">-3633736515773289454</span>,<span class="number">693699796</span> <span class="number">2103410263</span>)</div></pre></td></tr></table></figure>
<p>å‰›æœ‰æåˆ°<code>random</code>æœƒå›å‚³çš„æ˜¯ä¸€å€‹Tuple<code>(Random, RandomGen)</code>ï¼Œé€—è™Ÿå³é‚Šçš„ç¢ºå¯¦æ˜¯<strong>RandomGen</strong>(ç©ºæ ¼æ²’å•é¡Œ)ï¼Œæˆ‘å€‘çš„å€¼ä¸ä¸€æ¨£ä¹Ÿå¾ˆæ­£å¸¸<br>åœ¨æ²’æœ‰æŒ‡å®šå›å‚³çš„typeæ™‚ï¼Œé è¨­æ˜¯Intï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿå¯ä»¥æŒ‡å®šæˆ<em>Bool</em>ã€<em>Char</em></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="title">random</span> (mkStdGen <span class="number">100</span>) :: (<span class="type">Bool</span>, <span class="type">StdGen</span>)</div><div class="line">&gt; (<span class="type">True</span>,<span class="number">4041414</span> <span class="number">40692</span>)</div></pre></td></tr></table></figure>
<p>åœ¨é€™ä¹Ÿå¯ä»¥ç™¼ç¾å…©æ¬¡éƒ½æœ‰å›å‚³ä¸ä¸€æ¨£çš„StdGenï¼Œå¦‚æœè¦é€£çºŒåšå¥½å¹¾æ¬¡randomå°±å¯ä»¥æ¥ç€ç”¨ä¸‹å»ï¼Œæ‰€ä»¥å‰›å¥½æœ‰å€‹<code>randoms</code>å‡½æ•¸ï¼Œæ¥æ”¶ä¸€å€‹StdGenç„¶å¾Œå›å‚³ç„¡çª®çš„List</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- randoms :: (RandomGen g, Random a) =&gt; g -&gt; [a]</span></div><div class="line"><span class="title">take</span> <span class="number">5</span> $ randoms (mkStdGen <span class="number">11</span>) :: [<span class="type">Bool</span>]</div><div class="line">&gt; [<span class="type">True</span>,<span class="type">True</span>,<span class="type">True</span>,<span class="type">True</span>,<span class="type">False</span>]</div></pre></td></tr></table></figure>
<h2 id="è‡ªå·±çš„Module"><a href="#è‡ªå·±çš„Module" class="headerlink" title="è‡ªå·±çš„Module"></a>è‡ªå·±çš„Module</h2><p>è©²ä¾†è‡ªå·±å¯«å€‹Moduelè©¦è©¦ï¼Œåœ¨Main.hsç•¶å‰ç›®éŒ„æ–°å¢ä¸€å€‹<strong>Lib.hs</strong>ï¼Œä¸¦å¦‚ä¸‹é€™æ¨£å¯«ï¼Œè¨˜å¾—åœ¨Mainè£¡<code>import Lib</code></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> Lib</div><div class="line">    ( <span class="title">someFunc</span></div><div class="line">    ) <span class="keyword">where</span></div><div class="line"></div><div class="line"><span class="title">someFunc</span> :: <span class="type">IO</span> ()</div><div class="line"><span class="title">someFunc</span> = putStrLn <span class="string">"someFunc"</span></div><div class="line"></div><div class="line"><span class="title">someFunc'</span> :: <span class="type">IO</span> ()</div><div class="line"><span class="title">somwFunc'</span> = putStrLn <span class="string">"no no no..."</span></div></pre></td></tr></table></figure>
<p><code>:r</code>é‡æ–°è¼‰å…¥å¾Œï¼Œåˆ†åˆ¥å‘¼å«<code>someFunc</code>ã€<code>someFunc&#39;</code>è©¦è©¦ï¼Œæœƒç™¼ç¾<code>someFunc&#39;</code>æœƒå ±éŒ¯ï¼Œå› çˆ²æˆ‘å€‘åªæœ‰exportå‡º<code>someFunc</code>è€Œå·²<br>é€šå¸¸å°ˆæ¡ˆé‚„æœƒæœ‰è¨±å¤šå­è³‡æ–™å¤¾ï¼Œæˆ‘å€‘æ–°å»ºä¸€å€‹<code>Module</code>çš„è³‡æ–™å¤¾ï¼Œå°‡æˆ‘å€‘çš„<code>Lib.hs</code>ç§»é€²å»ï¼Œé€™æ™‚å€™é‡æ–°è¼‰å…¥å¯ä»¥ï¼Œä½†å‘¼å«<code>someFunc</code>å°±å ±éŒ¯ï¼Œå› çˆ²æ‰¾ä¸åˆ°äº†ï¼Œæˆ‘å€‘è¦æ”¹å¯«ä¸€ä¸‹moduleçš„åå­—å°±å¯ä»¥äº†</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- /Module/Lib.hs</span></div><div class="line"><span class="keyword">module</span> Module.Lib</div><div class="line">    ( <span class="title">someFunc</span></div><div class="line">    ) <span class="keyword">where</span></div><div class="line"><span class="comment">-- /Main.hs</span></div><div class="line"><span class="keyword">import</span> Module.Lib</div></pre></td></tr></table></figure>
<p>é‚£æœƒç¢°ä¸Šä¸åŒModuleå¯æ˜¯Function nameé‡è¤‡çš„å•é¡Œï¼ŒHaskellç•¶ç„¶ä¹Ÿæœ‰aliasçš„æ–¹æ³•ï¼Œå‘¼å«æ™‚åªè¦ç”¨<code>Lib.someFunc</code>çš„å½¢å¼å°±å¯ä»¥äº†</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Module.Lib <span class="keyword">as</span> Lib</div><div class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Module.XXX <span class="keyword">as</span> XXX</div></pre></td></tr></table></figure>
<h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><p><a href="https://learnyoua.haskell.sg/content/zh-tw/ch07/module.html" target="_blank" rel="external">Learn your haskell</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/23/haskell-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/23/haskell-type/" itemprop="url">Haskell ç³»åˆ— - type (é¡å‹)</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/jackypan1989/" itemprop="url" rel="index">
              <span itemprop="name">jackypan1989</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-23T18:26:55+08:00">
                2018-03-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Type-é¡å‹"><a href="#Type-é¡å‹" class="headerlink" title="Type (é¡å‹)"></a>Type (é¡å‹)</h1><p>åœ¨ haskell ä¸­æˆ‘å€‘æ˜¯ä½¿ç”¨ data é—œéµå­—ä¾†å®šç¾©æ‰€è¬‚çš„é¡å‹<br>å…ˆçœ‹ä¸€å€‹ä¾‹å­, Bool æ˜¯ä¸€å€‹å¸¸è¦‹çš„é¡å‹, åŒ…å«å…©å€‹å€¼(data), True è·Ÿ False </p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Bool</span> = <span class="type">True</span> | <span class="type">False</span></span></div></pre></td></tr></table></figure>
<p>åœ¨é€™è£¡<br>= è™Ÿçš„å·¦é‚Šæˆ‘å€‘ç¨±ç‚º Type Constructor<br>= è™Ÿçš„å³é‚Šæˆ‘å€‘ç¨±ä¹‹ç‚º Data Contructor (æˆ–è€…æ˜¯ Value Contructor)</p>
<p>æ‰€ä»¥ Bool æ˜¯ Type Constructor, ç”¨ kind å¯æŸ¥çœ‹é€™ type çš„ç‰¹å¾µ<br>:: çš„å¾Œé¢ä»£è¡¨ä»–çš„é¡å‹<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; :k <span class="type">Bool</span></div><div class="line"><span class="type">Bool</span> :: *</div></pre></td></tr></table></figure></p>
<p>å‡ºç¾ * è¡¨ç¤ºä»–æœ¬èº«å°±æ˜¯ä¸€å€‹ Concrete type<br>æ‰€ä»¥ Bool æ—¢æ˜¯ type åŒæ™‚ä¹Ÿæ˜¯ type constructor (ä½†ç„¡åƒæ•¸)</p>
<p>å¦ä¸€æ–¹é¢<br>True è·Ÿ False æ˜¯ Data Contructor, ç”¨ :t å¯æŸ¥çœ‹ä»–æ˜¯å±¬æ–¼ä»€éº¼ type<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; :t <span class="type">True</span></div><div class="line"><span class="type">True</span> :: <span class="type">Bool</span></div></pre></td></tr></table></figure></p>
<p>True æ˜¯ Bool type çš„data/value, ä¹Ÿä¸éœ€è¦åƒæ•¸</p>
<p>å°çµä¸€ä¸‹, å¦‚æœè¦ç”¨å‘½ä»¤åˆ—ä¾†çœ‹<br>:k æ˜¯ç”¨ä¾†æŸ¥çœ‹ç­‰è™Ÿå·¦é‚Šçš„ type contructor (ä¾‹å¦‚ Bool)<br>:t æ˜¯ç”¨ä¾†æŸ¥çœ‹ç­‰è™Ÿå³é‚Šçš„ data contructor (ä¾‹å¦‚ True)</p>
<h1 id="çœ‹çœ‹æ¯”è¼ƒè¤‡é›œçš„-Maybe-a-é¡å‹"><a href="#çœ‹çœ‹æ¯”è¼ƒè¤‡é›œçš„-Maybe-a-é¡å‹" class="headerlink" title="çœ‹çœ‹æ¯”è¼ƒè¤‡é›œçš„ Maybe a é¡å‹"></a>çœ‹çœ‹æ¯”è¼ƒè¤‡é›œçš„ Maybe a é¡å‹</h1><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Maybe</span> a = <span class="type">Just</span> a | <span class="type">Nothing</span></span></div></pre></td></tr></table></figure>
<p>é€™è£¡çš„ Maybe a å°±å¦‚åŒä¸Šé¢çš„ Bool ä¸€æ¨£, ç”±å…©å€‹ data contructor çµ„æˆ<br>ä½†é€™è£¡çš„ a æˆ‘å€‘åˆç¨±ç‚º type variable<br>ç”¨ä¾†è·Ÿ Maybe ä¸€èµ·çµ„åˆä¸¦å›å‚³ä¸€å€‹çœŸæ­£çš„ type å³ç‚º Maybe a<br>a ç”¨è¡¨ç¤ºä»–æœ‰å¯èƒ½æ˜¯ Int, String, ç”šè‡³å¯èƒ½æ˜¯å¦ä¸€å€‹ Maybe b (é…·å§, è‡ªå·±çš„å®šç¾©è‡ªå·±ç”¨)<br>æ‰€ä»¥, ä»¥é¡å‹ Maybe Int ä¾†èªª<br>ä»–çš„ data ä¸­å¯èƒ½æœ‰ Just 1, Just 2, Just 4 â€¦ &amp; Nothing ä»–å€‘çš„ type éƒ½æ˜¯ Maybe Int<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; :t <span class="type">Just</span> <span class="string">"a"</span></div><div class="line"><span class="type">Just</span> <span class="string">"a"</span> :: <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"></div><div class="line">&gt; :t <span class="type">Nothing</span></div><div class="line"><span class="type">Nothing</span> :: <span class="type">Maybe</span> a</div><div class="line"></div><div class="line">&gt; :t <span class="type">Nothing</span> :: <span class="type">Maybe</span> <span class="type">Int</span></div><div class="line"><span class="type">Nothing</span> :: <span class="type">Maybe</span> <span class="type">Int</span> :: <span class="type">Maybe</span> <span class="type">Int</span></div></pre></td></tr></table></figure></p>
<p>åœ¨çœ‹ Nothing çš„ type æ™‚å¿…é ˆçµ¦ä»–ä¸€é»æç¤º<br>å”åŠ©ä»–å»æ¨æ–· Nothing, å¦ä»–æœƒåªçµ¦ä½ ä¸€å€‹ Maybe a<br>å› ç‚º Nothing éƒ½æ˜¯æ‰€æœ‰ Maybe a æœƒæœ‰çš„å€¼</p>
<p>å†å›é ­çœ‹çœ‹é€™å€‹ type çš„ kind<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; :k <span class="type">Maybe</span> <span class="type">Int</span></div><div class="line"><span class="type">Maybe</span> <span class="type">Int</span> :: *</div><div class="line"></div><div class="line">&gt; :k <span class="type">Maybe</span></div><div class="line"><span class="type">Maybe</span> :: * -&gt; *</div></pre></td></tr></table></figure></p>
<p>å‰›å‰›æœ‰èªªéä¸€å€‹ * æ‰è¡¨ç¤ºå·²ç¶“æ˜¯ concrete type äº†<br>é€™è£¡æœƒå‡ºç¾ä¸€å€‹ * -&gt; * è¡¨ç¤ºä»–åªæ˜¯ type contructor<br>ä½ å¿…é ˆå…ˆå‚³é€²ä¸€å€‹ concrete type æ‰æœƒå›å‚³ä¸€å€‹ concrete type<br>é€™å°±æ˜¯ç‚ºä»€éº¼åªæ‰“ä¸€å€‹ Maybe é‚„ä¸å¤ , ä¸€å®šè¦æ¥ä¸€å€‹ Int (concrete type)</p>
<h1 id="æ³¨æ„äº‹é …"><a href="#æ³¨æ„äº‹é …" class="headerlink" title="æ³¨æ„äº‹é …"></a>æ³¨æ„äº‹é …</h1><h2 id="1-data-constructor-ç”¢ç”Ÿå‡ºä¾†çš„æ˜¯å€¼-data-å¯ä»¥å‚³å…¥-function-ä½†-type-ä¸èƒ½å‚³å…¥-function-Data-constructors-as-first-class-values"><a href="#1-data-constructor-ç”¢ç”Ÿå‡ºä¾†çš„æ˜¯å€¼-data-å¯ä»¥å‚³å…¥-function-ä½†-type-ä¸èƒ½å‚³å…¥-function-Data-constructors-as-first-class-values" class="headerlink" title="1. data constructor ç”¢ç”Ÿå‡ºä¾†çš„æ˜¯å€¼/data, å¯ä»¥å‚³å…¥ function, ä½† type ä¸èƒ½å‚³å…¥ function (Data constructors as first class values)"></a>1. data constructor ç”¢ç”Ÿå‡ºä¾†çš„æ˜¯å€¼/data, å¯ä»¥å‚³å…¥ function, ä½† type ä¸èƒ½å‚³å…¥ function (Data constructors as first class values)</h2><p>ä¾‹å¦‚ f æ˜¯æŸå€‹ function<br>å‰‡ f (True) æˆ–æ˜¯ f (Just 2) éƒ½åˆæ³•<br>ä½† f (Maybe) å°±ä¸åˆæ³•äº†</p>
<h2 id="2-data-constructor-ä¸æ˜¯-type-Data-constructors-are-not-types"><a href="#2-data-constructor-ä¸æ˜¯-type-Data-constructors-are-not-types" class="headerlink" title="2. data constructor ä¸æ˜¯ type (Data constructors are not types)"></a>2. data constructor ä¸æ˜¯ type (Data constructors are not types)</h2><p>ä¾‹å¦‚æˆ‘å€‘å®šç¾©ä¸€å€‹<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">MyMaybe</span> a = <span class="type">Just</span> a | <span class="type">Nothing</span></span></div><div class="line">åˆæ³•</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">MyMaybe</span> a = <span class="type">Just</span> (<span class="type">Just</span> <span class="title">a</span>) | <span class="type">Nothing</span></span></div><div class="line">ä¸åˆæ³•</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">MyMaybe</span> a = <span class="type">Just</span> (<span class="type">Maybe</span> <span class="title">a</span>) | <span class="type">Nothing</span></span></div><div class="line">åˆæ³• </div><div class="line">(<span class="type">Data</span> contrutor è£¡é¢å¦‚æœè¦å¡åƒæ•¸ä¸€å®šæ˜¯è¦å¡ <span class="class"><span class="keyword">type</span> åªæœ‰ <span class="type">Maybe</span> a æ˜¯ <span class="keyword">type</span>, <span class="type">Just</span> a æ˜¯å€¼)</span></div></pre></td></tr></table></figure></p>
<h1 id="æ›´å¤šä¾‹å­"><a href="#æ›´å¤šä¾‹å­" class="headerlink" title="æ›´å¤šä¾‹å­"></a>æ›´å¤šä¾‹å­</h1><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">Color</span> = <span class="type">Red</span> | <span class="type">Blue</span> | <span class="type">Green</span> | <span class="type">RGB</span> <span class="type">Int</span> <span class="type">Int</span> <span class="type">Int</span></span></div></pre></td></tr></table></figure>
<p>Color æ˜¯ä¸€å€‹ type è€Œä¸”ä¹Ÿæ˜¯ä¸€å€‹ä¸ç”¨å‚³å€¼çš„ type contructor<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; :k <span class="type">Color</span></div><div class="line"><span class="type">Color</span> :: *</div></pre></td></tr></table></figure></p>
<p>Red è·Ÿ RGB éƒ½æ˜¯ data contructor<br>å…¶ä¸­ Red ä¸ç”¨å‚³åƒæ•¸<br>RGB è¦å‚³ä¸‰å€‹ Int æ‰æœƒå›å‚³ä¸€å€‹ value, å…¶ type æ˜¯ Color<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; :t <span class="type">Red</span></div><div class="line"><span class="type">Red</span> :: <span class="type">Color</span></div><div class="line">&gt; :t <span class="type">RGB</span></div><div class="line"><span class="type">RGB</span> :: <span class="type">Int</span> -&gt; <span class="type">Int</span> -&gt; <span class="type">Int</span> -&gt; <span class="type">Color</span></div></pre></td></tr></table></figure></p>
<h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ol>
<li>haskell wiki</li>
<li>learn you a haskell</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sovmedcare.github.io/2018/03/21/applicative-functor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SOVMedCare">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/31230110">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SOVMedCare Tech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/21/applicative-functor/" itemprop="url">Applicative Functor</a></h1>
        

        <div class="post-meta">
          <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
            <a href="/authors/tancc/" itemprop="url" rel="index">
              <span itemprop="name">tancc</span>
            </a>
          </span>
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2018-03-21T15:03:23+08:00">
                2018-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Applicative-TypeClass"><a href="#1-Applicative-TypeClass" class="headerlink" title="1 Applicative TypeClass"></a>1 Applicative TypeClass</h1><p><code>Applicative Functor</code>æ¯”èµ·<code>Functor</code>æ›´ç‚ºå¼·å¤§ï¼Œä»¥ä¸‹æ˜¯å…¶éƒ¨åˆ†typeclasså®šç¾©<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="type">Functor</span> f =&gt; <span class="type">Applicative</span> f <span class="keyword">where</span></span></div><div class="line">    <span class="meta">&#123;-# MINIMAL pure, ((&lt;*&gt;) | liftA2) #-&#125;</span></div><div class="line">    <span class="comment">-- | Lift a value.</span></div><div class="line">    pure :: a -&gt; f a</div><div class="line">    <span class="comment">-- | Sequential application.</span></div><div class="line">    (&lt;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure></p>
<p>ä¸€å€‹é¡å‹å¦‚æœç‚º<code>Applicative</code>çš„å¯¦ä¾‹(instance)çš„è©±ï¼Œå‰‡ä»–åŒæ¨£æœƒå…·æœ‰funtoral structureï¼Œä¹Ÿå°±æ˜¯<code>f a</code> ä¸­çš„ <code>f</code>ã€‚</p>
<p>è€Œå’Œ<code>Functor</code>æœ€ä¸»è¦å¤šçš„ä¸åŒåœ¨æ–¼ï¼Œå¤šäº†å…©å€‹æ–¹æ³•<code>pure</code>å’Œ<code>&lt;*&gt;</code></p>
<p><code>pure</code>ï¼šå°‡å‹åˆ¥ç‚º<code>a</code>çš„inputï¼ŒåŒ…é€²ä¸€å€‹Applicativeçš„çµæ§‹<code>f</code>ä¸­ï¼Œè½‰æ›æˆå‹åˆ¥ç‚º<code>f a</code>çš„output</p>
<p><code>&lt;*&gt;</code>ï¼š èˆ‡<code>fmap</code>ç›¸ä¼¼ï¼Œéƒ½æ˜¯æŠŠå‡½æ•¸æå‡(lift)ï¼Œä½¿å…¶èƒ½æ‡‰ç”¨åœ¨å‹åˆ¥å…·æœ‰é¡å¤–çµæ§‹çš„å€¼ä¸­ã€‚ä¸åŒçš„æ˜¯<code>&lt;*&gt;</code>æ‰€æå‡çš„functionï¼Œæœ¬èº«å°±è¢«åŒ…è£¹åœ¨<code>f</code>è£¡<code>f (a -&gt; b)</code></p>
<p>åŒæ™‚æ¯”è¼ƒ<code>fmap</code>è·Ÿ<code>&lt;*&gt;</code>æœƒæ¯”è¼ƒæœ‰æ„Ÿï¼š<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="title">fmap</span>  :: <span class="type">Functor</span>     f =&gt;   (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line">(&lt;*&gt;) :: <span class="type">Applicative</span> f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure></p>
<p>å·®åˆ¥åªåœ¨è¦liftçš„å‡½æ•¸æœ‰æ²’æœ‰<code>f</code>è¢«åŒ…è£¹èµ·ä¾†ã€‚</p>
<hr>
<h1 id="2-Applicative-functor-laws"><a href="#2-Applicative-functor-laws" class="headerlink" title="2 Applicative functor laws"></a>2 Applicative functor laws</h1><p>ä½†ä¸€å€‹å‹åˆ¥å°±ç®—å…¶å¯¦åšäº†<code>pure</code>ä»¥åŠ<code>&lt;*&gt;</code>æˆç‚ºäº†<code>Applicative</code>çš„instanceäº†ï¼Œä¹Ÿé‚„ä¸èƒ½å¤ èªªæ˜¯ä¸€å€‹<code>Applicative</code></p>
<p>é™¤äº†å¯¦ä½œ<code>pure</code>ä»¥åŠ<code>&lt;*&gt;</code>å¤–ï¼Œé‚„éœ€è¦æ»¿è¶³4å€‹<code>Applicative functor laws</code><br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 1. Identity</span></div><div class="line"><span class="title">pure</span> id &lt;*&gt; v = v </div><div class="line"></div><div class="line"><span class="number">2.</span> <span class="type">Composition</span></div><div class="line"><span class="title">pure</span> (.) &lt;*&gt; u &lt;*&gt; v &lt;*&gt; w = u &lt;*&gt; (v &lt;*&gt; w)</div><div class="line"></div><div class="line"><span class="number">3.</span> <span class="type">Homomorphisom</span></div><div class="line"><span class="title">pure</span> f &lt;*&gt; pure x = pure (f x)</div><div class="line"></div><div class="line"><span class="number">4.</span> <span class="type">Interchange</span></div><div class="line"><span class="title">u</span> &lt;*&gt; pure y = pure ($ y) &lt;*&gt; u</div></pre></td></tr></table></figure></p>
<p>å› ç‚ºåœ¨Haskellä¸­ï¼Œä½ å®šç¾©å®Œ<code>instance Applicative XXX where...</code>å¾Œï¼Œä¸¦ä¸æœƒå¹«ä½ æª¢æŸ¥æ˜¯å¦æ»¿è¶³é€™äº›<code>Applicative functor laws</code>ï¼Œå› æ­¤é€™éƒ¨åˆ†éœ€è¦è‡ªå·±å»ç¢ºä¿ã€‚</p>
<hr>
<h1 id="3-ä¸€äº›ä½¿ç”¨æƒ…å¢ƒ"><a href="#3-ä¸€äº›ä½¿ç”¨æƒ…å¢ƒ" class="headerlink" title="3 ä¸€äº›ä½¿ç”¨æƒ…å¢ƒ"></a>3 ä¸€äº›ä½¿ç”¨æƒ…å¢ƒ</h1><ul>
<li>å°‡æ™®é€šå‡½æ•¸<code>(a -&gt; b -&gt; c -&gt;...)</code>ï¼Œæ‡‰ç”¨åœ¨å¤šå€‹æœ‰functoral structure/contextçš„å€¼<code>f a, fb, ...</code>æ™‚</li>
</ul>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="title">fmap</span>  :: <span class="type">Functor</span>     f =&gt;   (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line">(&lt;*&gt;) :: <span class="type">Applicative</span> f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b</div></pre></td></tr></table></figure>
<p>å¾type signatureä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<code>fmap</code>ç„¡æ³•å°‡<code>f (a -&gt; b)</code> æ‡‰ç”¨æ–¼ <code>f a,f b</code><br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="title">x</span> = fmap (+) (<span class="type">Just</span> <span class="number">1</span>)</div><div class="line"><span class="comment">--x = Just (+ 1) å‹åˆ¥ç‚º f (a -&gt; b)</span></div><div class="line"></div><div class="line"><span class="title">fmap</span> x (<span class="type">Just</span> <span class="number">2</span>)</div><div class="line"><span class="comment">-- error</span></div><div class="line"><span class="comment">-- æˆ‘å€‘ç„¡æ³•ç”¨fmapå°xé€²è¡Œæ“ä½œäº†</span></div><div class="line"><span class="comment">-- fmapçš„ç¬¬ä¸€å€‹åƒæ•¸å‹åˆ¥è¦ç‚º (a -&gt; b)ï¼Œä¸å¯ç‚º f (a -&gt; b)</span></div></pre></td></tr></table></figure></p>
<p>é€™æ™‚å°±å¯ä»¥ä½¿ç”¨<code>&lt;*&gt;</code>æ­é…<code>&lt;$&gt;</code>ä¾†é”æˆéœ€æ±‚äº†<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">(+) &lt;$&gt; (<span class="type">Just</span> <span class="number">1</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>)</div><div class="line">&gt;&gt; <span class="type">Just</span> <span class="number">3</span></div><div class="line">  </div><div class="line">  (+) &lt;$&gt; (<span class="type">Just</span> <span class="number">1</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>)</div><div class="line">= <span class="type">Just</span> (+ <span class="number">1</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>)</div><div class="line">= <span class="type">Just</span> <span class="number">3</span></div><div class="line"></div><div class="line"><span class="comment">-- å¦å€‹ä¾‹å­</span></div><div class="line">(\x y z -&gt; [x*y, y*z, x*z]) &lt;$&gt; (<span class="type">Just</span> <span class="number">1</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">3</span>)</div><div class="line">&gt;&gt; <span class="type">Just</span> [<span class="number">2</span>,<span class="number">6</span>,<span class="number">3</span>]</div><div class="line"></div><div class="line">  (\x y z -&gt; [x*y, y*z, x*z]) &lt;$&gt; (<span class="type">Just</span> <span class="number">1</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">3</span>)</div><div class="line">= <span class="type">Just</span> (\y z -&gt; [<span class="number">1</span>*y, y*z, <span class="number">1</span>*z]) &lt;*&gt; (<span class="type">Just</span> <span class="number">2</span>) &lt;*&gt; (<span class="type">Just</span> <span class="number">3</span>)</div><div class="line">= <span class="type">Just</span> (\z -&gt; [<span class="number">1</span>*<span class="number">2</span>, <span class="number">2</span>*z, <span class="number">1</span>*z]) &lt;*&gt; (<span class="type">Just</span> <span class="number">3</span>)</div><div class="line">= <span class="type">Just</span> ([<span class="number">1</span>*<span class="number">2</span>, <span class="number">2</span>*<span class="number">3</span>, <span class="number">1</span>*<span class="number">3</span>])</div><div class="line">= <span class="type">Just</span> [<span class="number">2</span>,<span class="number">6</span>,<span class="number">3</span>]</div><div class="line"></div><div class="line"><span class="comment">-- å¦å€‹ä¾‹å­</span></div><div class="line"><span class="class"><span class="keyword">data</span> <span class="type">User</span> = <span class="type">User</span> &#123; <span class="title">firstName</span> :: <span class="type">String</span></span></div><div class="line"><span class="class">                 , <span class="title">lastName</span>  :: <span class="type">String</span></span></div><div class="line"><span class="class">                 , <span class="title">email</span>     :: <span class="type">String</span></span></div><div class="line"><span class="class">                 &#125; <span class="keyword">deriving</span> (<span class="type">Show</span>)</span></div><div class="line">  </div><div class="line"><span class="title">validate</span> :: <span class="type">String</span> -&gt; <span class="type">Maybe</span> <span class="type">String</span></div><div class="line"><span class="title">validate</span> [] = <span class="type">Nothing</span></div><div class="line"><span class="title">validate</span> s = <span class="type">Just</span> s</div><div class="line"></div><div class="line"><span class="title">makeUser</span> :: <span class="type">String</span> -&gt; <span class="type">String</span> -&gt; <span class="type">String</span> -&gt; <span class="type">Maybe</span> <span class="type">User</span></div><div class="line"><span class="title">makeUser</span> f l e = <span class="type">User</span></div><div class="line">         &lt;$&gt; validate f</div><div class="line">         &lt;*&gt; validate l</div><div class="line">         &lt;*&gt; validate e</div><div class="line"><span class="comment">-- å¯ä»¥æƒ³åƒmakeUserå¦‚æœä¸ç”¨&lt;*&gt;ï¼Œå‹¢å¿…å°±å¿…é ˆå¯«å¾ˆå¤šcase...ofä¾†é”æˆ</span></div></pre></td></tr></table></figure></p>
<ul>
<li>å¤šå€‹é‹ç®—é–“æ²’æœ‰ç›¸ä¾é—œä¿‚æ™‚<figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(&lt;*&gt;) :: <span class="type">Applicative</span> f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b</div><div class="line">(&gt;&gt;=) ::       <span class="type">Monad</span> m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b</div></pre></td></tr></table></figure>
</li>
</ul>
<p>å¾type signatureä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<code>&gt;&gt;=</code>æ‰€ä¸²è¯çš„é‹ç®—å¼æœ‰ç›¸ä¾é—œä¿‚çš„ï¼Œä¸‹ä¸€å€‹é‹ç®—çš„ä¾è³´ä¸Šä¸€å€‹é‹ç®—çš„çµæœã€‚</p>
<p>ä¹Ÿå°±æ˜¯èªªMonad <code>&gt;&gt;=</code>çš„é‹ç®—å…¶å¯¦æ˜¯ç›¸ä¾(Dependency)ï¼Œä½†é€™ä¹Ÿæ˜¯ä»–å½ˆæ€§çš„éƒ¨åˆ†ï¼Œå› ç‚ºæˆ‘å€‘å¯ä»¥é‡å°é‹ç®—çš„è¿”å›å€¼å†é€²ä¸€æ­¥çš„æ“ä½œã€‚</p>
<p>è€ŒApplicative <code>&lt;*&gt;</code>çš„é‹ç®—æ˜¯ä¸ç›¸ä¾(Independency)ã€‚å› ç‚ºå°‘äº†ç›¸ä¾æ€§ï¼Œå°æ¯”èµ·ä¾†ä½¿ç”¨Applicativeå¯ä»¥å¯«å‡ºæ›´ä¹¾æ·¨çš„ä»£ç¢¼ã€‚</p>
<hr>
<h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>å‰é¢æœ‰å€‹ä¾‹å­<code>(+) &lt;$&gt; (Just 1) &lt;*&gt; (Just 2)</code>ï¼Œä¸é<code>Control.Applicative</code>æœ‰æä¾›æˆ‘å€‘ä¸€äº›æ–¹ä¾¿çš„å·¥å…·ä¾†åšåŒæ¨£çš„äº‹æƒ…<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="title">liftA</span>  :: (a -&gt; b)           -&gt; f a -&gt; f b</div><div class="line"><span class="title">liftA2</span> :: (a -&gt; b -&gt; c)      -&gt; f a -&gt; f b -&gt; f c</div><div class="line"><span class="title">liftA3</span> :: (a -&gt; b -&gt; c -&gt; d) -&gt; f a -&gt; f b -&gt; f c -&gt; f d</div></pre></td></tr></table></figure></p>
<p>å› æ­¤å¯æ”¹å¯«æˆ<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="title">liftA2</span> (+) (<span class="type">Just</span> <span class="number">1</span>) (<span class="type">Just</span> <span class="number">2</span>)</div></pre></td></tr></table></figure></p>
<p>è¦–è¦ºä¸Šçœ‹èµ·ä¾†æœ‰æ¯”è¼ƒç°¡æ½”äº†<br>è€Œ<code>liftA</code> <code>liftA2</code> <code>lift3</code>çš„å·®åˆ¥åªåœ¨å…¶æ‰€è¦liftçš„å‡½æ•¸çš„åƒæ•¸å€‹æ•¸è€Œå·²</p>
<p>æ­¤å¤–ï¼Œåœ¨é–±è®€æˆ–æ’°å¯«ä¸Šï¼Œä½¿ç”¨<code>&lt;$&gt;..&lt;*&gt;..&lt;*&gt;</code>æˆ–è¨±å°éƒ¨åˆ†äººä¾†èªªæ¯”è¼ƒä¸ç›´è¦ºçš„ã€‚</p>
<p>é€™éƒ¨åˆ†å¯ä»¥ä½¿ç”¨ApplicativeDoï¼Œä½¿å¾—å¯ä»¥è·Ÿä»¥å¾€ä½¿ç”¨do notationé‚£èˆ¬ç”±ä¸Šåˆ°ä¸‹çš„æ›¸å¯«æ–¹å¼<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&#123;-# LANGUAGE ApplicativeDo #-&#125;</span></div><div class="line"></div><div class="line"><span class="title">run</span> = <span class="keyword">do</span></div><div class="line"> x &lt;- expr1</div><div class="line"> y &lt;- expr1</div><div class="line"> z &lt;- expr1</div><div class="line"> return (f x y z)</div></pre></td></tr></table></figure></p>
<p>å› ç‚ºexpressionä¸¦ä¸æœƒç›¸äº’ä¾è³´ï¼Œå› æ­¤æœƒè¢«è½‰æ›æˆ<code>f &lt;$&gt; expr1 &lt;*&gt; expr2 &lt;*&gt; expr3</code>ï¼Œå…¶å¯¦å°±é‚„æ˜¯ä¸€æ¨£çš„æ±è¥¿ã€‚</p>
<hr>
<h1 id="5-åƒè€ƒè³‡æ–™åŠæ›´è©³ç›¡çš„å…§å®¹"><a href="#5-åƒè€ƒè³‡æ–™åŠæ›´è©³ç›¡çš„å…§å®¹" class="headerlink" title="5 åƒè€ƒè³‡æ–™åŠæ›´è©³ç›¡çš„å…§å®¹"></a>5 åƒè€ƒè³‡æ–™åŠæ›´è©³ç›¡çš„å…§å®¹</h1><p><a href="https://hackage.haskell.org/package/base-4.11.0.0/docs/src/GHC.Base.html#Applicative" target="_blank" rel="external">GHC.Base#Applicative</a><br><a href="https://en.wikibooks.org/wiki/Haskell/Applicative_functors" target="_blank" rel="external">Haskell/Applicative functors - Wikibooks, open books for an open world</a><br><a href="https://ghc.haskell.org/trac/ghc/wiki/ApplicativeDo" target="_blank" rel="external">ApplicativeDo â€“ GHC</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="https://avatars1.githubusercontent.com/u/31230110"
              alt="SOVMedCare" />
          
            <p class="site-author-name" itemprop="name">SOVMedCare</p>
            <p class="site-description motion-element" itemprop="description">Full Stack JS #FRP #RxJS #Redux #React</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">æ–‡ç« </span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">æ¨™ç±¤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/sovmedcare" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:jackypan1989@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/sovtw" target="_blank" title="FB Page">
                  
                    <i class="fa fa-fw fa-facebook"></i>FB Page</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.instagram.com/sovmedtw/" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-instagram"></i>Instagram</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 &mdash; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SOVMedCare</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼·åŠ›é©…å‹•</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">ä¸»é¡Œ &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
